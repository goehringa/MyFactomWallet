(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{25:function(e,t,a){"use strict";a.d(t,"a",function(){return l}),a.d(t,"b",function(){return o});var n=a(0),r=a.n(n),l=r.a.createContext(),o=function(e){return function(t){return r.a.createElement(l.Consumer,null,function(a){return r.a.createElement(e,Object.assign({},t,{walletController:a}))})}}},26:function(e,t,a){"use strict";a.d(t,"a",function(){return l}),a.d(t,"b",function(){return o});var n=a(0),r=a.n(n),l=r.a.createContext(),o=function(e){return function(t){return r.a.createElement(l.Consumer,null,function(a){return r.a.createElement(e,Object.assign({},t,{networkController:a}))})}}},383:function(e,t,a){e.exports=a.p+"static/media/headerLogo.e79a5c9c.png"},388:function(e,t,a){"use strict";(function(e){var n=a(15),r=a.n(n),l=a(23),o=a(9),i=a(10),c=a(12),s=a(11),m=a(13),u=a(0),d=a.n(u),p=a(21),h=a.n(p),E=a(72),f=a(149),b=a.n(f),g=a(150),v=a.n(g),y=a(26),x=a(25),C=a(36),w={fct:131,ec:132},k=function(t){function a(t){var n;return Object(o.a)(this,a),(n=Object(c.a)(this,Object(s.a)(a).call(this,t))).getLedgerAddresses=function(){var e=Object(l.a)(r.a.mark(function e(t,a,l){var o,i,c,s,m,u,d,p,h;return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return o=[],i=n.props.networkController.networkProps.bip32Account,c=w[l],e.next=5,b.a.create();case 5:s=e.sent,m=new v.a(s),u=t;case 8:if(!(u<t+a)){e.next=17;break}return d="44'/"+c+"'/"+i+"'/0/"+u,e.next=12,m.getAddress(d);case 12:p=e.sent,o.push({address:p.address,index:u});case 14:u++,e.next=8;break;case 17:return e.next=19,Promise.all(o.map(n.props.walletController.updateWalletBalance));case 19:return h=e.sent,s.close(),e.abrupt("return",h);case 22:case"end":return e.stop()}},e,this)}));return function(t,a,n){return e.apply(this,arguments)}}(),n.signWithLedger=function(){var t=Object(l.a)(r.a.mark(function t(a){var l,o,i,c,s,m,u,d,p,h,E;return r.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return l=a.fromAddr,o=a.toAddr,i=a.amount,c=a.index,s={},t.next=4,b.a.create();case 4:return m=t.sent,u=n.props.networkController.networkProps.bip32Account,d="44'/131'/"+u+"'/0/"+c,p=new v.a(m),t.t0=C.Transaction.builder(),t.t1=l,t.t2=i,t.next=13,n.props.walletController.getFactoshiFee();case 13:return t.t3=t.sent,t.t4=t.t2+t.t3,t.t5=o,t.t6=i,h=t.t0.input.call(t.t0,t.t1,t.t4).output(t.t5,t.t6).build(),t.next=20,p.signTransaction(d,h.marshalBinarySig.toString("hex"));case 20:return(E=t.sent)&&(s=C.Transaction.builder(h).rcdSignature(e.from(E.r,"hex"),e.from(E.s,"hex")).build()),m.close(),t.abrupt("return",s);case 24:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}(),n.checkAddress=function(){var e=Object(l.a)(r.a.mark(function e(t,a){var l,o,i,c,s;return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return l=n.props.networkController.networkProps.bip32Account,o=w[a],i="44'/"+o+"'/"+l+"'/0/"+t.index,e.prev=3,e.next=6,b.a.create();case 6:return c=e.sent,s=new v.a(c),e.next=10,s.getAddress(i,!0);case 10:c.close(),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(3),console.error("Failed getFctAddr from Ledger Nano S :",e.t0);case 16:case"end":return e.stop()}},e,this,[[3,13]])}));return function(t,a){return e.apply(this,arguments)}}(),n.isLedgerConnected=Object(l.a)(r.a.mark(function e(){var t,a,n;return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=!1,e.prev=1,e.next=4,b.a.create();case 4:return a=e.sent,n=new v.a(a),e.next=8,n.getAppConfiguration();case 8:t=!0,a.close(),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(1),console.log("Transport Err:"+e.t0);case 15:return e.abrupt("return",t);case 16:case"end":return e.stop()}},e,this,[[1,12]])})),n.state={isLedgerConnected:n.isLedgerConnected,getLedgerAddresses:n.getLedgerAddresses,signWithLedger:n.signWithLedger,checkAddress:n.checkAddress},n}return Object(m.a)(a,t),Object(i.a)(a,[{key:"render",value:function(){return d.a.createElement(E.a.Provider,{value:this.state},this.props.children)}}]),a}(d.a.Component),O=h()(x.b,y.b);t.a=O(k)}).call(this,a(186).Buffer)},445:function(e,t,a){e.exports=a(871)},450:function(e,t,a){},72:function(e,t,a){"use strict";a.d(t,"a",function(){return l}),a.d(t,"b",function(){return o});var n=a(0),r=a.n(n),l=r.a.createContext(),o=function(e){return function(t){return r.a.createElement(l.Consumer,null,function(a){return r.a.createElement(e,Object.assign({},t,{ledgerController:a}))})}}},871:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(58),o=a.n(l),i=(a(450),a(9)),c=a(10),s=a(12),m=a(11),u=a(13),d=a(21),p=a.n(d),h=a(6),E=a(115),f=a.n(E),b=a(96),g=a.n(b),v=a(3),y=a.n(v),x=a(17),C=a.n(x),w=a(59),k=a.n(w),O=a(383),S=a.n(O),A=a(872),j=a(71),N=a.n(j),F=a(54),T=a.n(F),P=a(195),B=a.n(P),I=a(202),R=a.n(I),L=a(7),W=a(8),D=a(20),M=a(34),V=a.n(M);var J=function(e){return r.a.createElement(y.a,{gutterBottom:!e.disableGutterBottom,variant:"h6"},e.text)},H=function(e){function t(){return Object(i.a)(this,t),Object(s.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(c.a)(t,[{key:"handleKeyPress",value:function(e){"textarea"!==e.target.type&&13===e.which&&e.preventDefault()}},{key:"render",value:function(){var e,t=this,a=this.props.classes;return r.a.createElement(W.e,{initialValues:{host:"",port:""},onSubmit:function(e,a){console.log("Submitted"),t.props.handleCustomNode(e.host,e.port)},validationSchema:D.object().shape((e={},Object(L.a)(e,"host",D.string().required("Required")),Object(L.a)(e,"port",D.string().required("Required")),e)),render:function(e){var n=e.isSubmitting,l=e.errors,o=e.touched;return r.a.createElement(W.d,{onKeyPress:t.handleKeyPress},r.a.createElement(J,{text:"Custom Node Form",id:"modal-title"}),r.a.createElement(q,{error:!(!l.host||!o.host),name:"host",label:"Host"}),r.a.createElement(W.a,{name:"host",render:function(e){return r.a.createElement("span",{className:a.errorText},e)}}),r.a.createElement(q,{error:!(!l.port||!o.port),name:"port",label:"Port"}),r.a.createElement(W.a,{name:"port",render:function(e){return r.a.createElement("span",{className:a.errorText},e)}}),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement(C.a,{type:"submit",disabled:n,variant:"contained",color:"primary"},"Submit"))}})}}]),t}(r.a.Component),q=function(e){return r.a.createElement(W.b,{name:e.name},function(t){var a=t.field;return r.a.createElement(V.a,Object.assign({inputProps:Object(L.a)({spellCheck:!1,maxLength:e.maxLength,autoComplete:"nope"},"autoComplete","off")},a,{label:e.label+" "+(e.error?"*":""),margin:"dense",fullWidth:!0,multiline:!0,error:e.error}))})},K=Object(h.withStyles)(function(e){return{errorText:{color:"red",fontSize:"12px"}}})(H),z=a(66),G=a.n(z),U=a(25),_=a(26),Y=a(24),Q=a.n(Y),X=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(s.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).state={open:!1},a.handleOpen=function(){a.setState({open:!0})},a.handleClose=function(){a.setState({open:!1})},a}return Object(u.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this.props.classes;return r.a.createElement("div",null,r.a.createElement(C.a,{className:e.menuText,onClick:this.handleOpen},"Help"),r.a.createElement(G.a,{"aria-labelledby":"modal-title",open:this.state.open,onClose:this.handleClose},r.a.createElement(Q.a,{className:e.modalContent},r.a.createElement(J,{text:"Help",id:"modal-title"}),r.a.createElement(y.a,null,"Please go to the #myfactomwallet channel on The Factoid Authority's"," ",r.a.createElement("a",{target:"_blank",rel:"noopener noreferrer",href:"https://discord.gg/79kH2pp"},"Discord server"),"\xa0for support."),r.a.createElement("br",null),r.a.createElement(y.a,null,"Ledger Nano S documentation can be found"," ",r.a.createElement("a",{target:"_blank",rel:"noopener noreferrer",href:"http://help.myfactomwallet.com/"},"here"),"."),r.a.createElement("br",null),r.a.createElement(y.a,null,"MyFactomWallet's Github repositories are"," ",r.a.createElement("a",{target:"_blank",rel:"noopener noreferrer",href:"https://github.com/MyFactomWallet"},"here"),"."))))}}]),t}(r.a.Component),Z=Object(h.withStyles)(function(e){return{modalContent:{position:"absolute",boxShadow:e.shadows[5],top:"50%",left:"50%",transform:"translate(-50%, -50%)",minHeight:"138px",padding:"30px",maxWidth:"425px"},menuText:{color:"white"}}})(X),$=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(s.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).state={voteAnchorEl:null,networkAnchorEl:null,openCustomNodeForm:!1},a.handleOpenCustomNodeForm=function(){a.setState({openCustomNodeForm:!0})},a.handleCloseCustomNodeForm=function(){a.setState({openCustomNodeForm:!1})},a.handleVoteClick=function(e){a.setState({voteAnchorEl:e.currentTarget})},a.handleVoteClose=function(){a.setState({voteAnchorEl:null})},a.handleNetworkClick=function(e){a.setState({networkAnchorEl:e.currentTarget})},a.handleNetworkClose=function(){a.setState({networkAnchorEl:null})},a.handleTestnet=function(){a.setState({networkAnchorEl:null}),a.props.walletController.handleNetworkChange("testnet")},a.handleMainnet=function(){a.setState({networkAnchorEl:null}),a.props.walletController.handleNetworkChange("mainnet")},a.handleWallet=function(){a.props.walletController.readyToManageWallet||a.props.walletController.isWalletEmpty()||a.props.walletController.setReadyToManageWallet(!0)},a.handleCustomNode=function(e,t){console.log("Host: "+e),console.log("Port: "+t),a.handleCloseCustomNodeForm()},a}return Object(u.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this.props,t=e.classes,a=e.networkController.networkProps,n=this.state,l=n.voteAnchorEl,o=n.networkAnchorEl,i="testnet"===a.network;return r.a.createElement(f.a,{position:"static",className:t.root},r.a.createElement(g.a,{className:t.toolbar},r.a.createElement(k.a,{className:t.menuButton,color:"inherit","aria-label":"Menu"},r.a.createElement(A.a,{to:"/"},r.a.createElement("img",{className:t.logo,src:S.a,alt:"logo"}))),r.a.createElement(y.a,{variant:"h6",className:t.flex},r.a.createElement(A.a,{className:t.menuText,to:"/"},"MyFactomWallet",i&&r.a.createElement("span",{className:t.testnetHeader},"\xa0\xa0TESTNET"))),r.a.createElement(C.a,{href:"#/",onClick:this.handleWallet,className:t.menuText},"Wallet"),r.a.createElement(Z,null),r.a.createElement("div",{className:t.network},r.a.createElement(C.a,{"aria-owns":l?"simple-vote-menu":null,"aria-haspopup":"true",onClick:this.handleNetworkClick,className:t.menuText},"Node: ",a.network,"\xa0",r.a.createElement(R.a,{titleAccess:"Network Operational",style:{color:"green"}}),r.a.createElement(B.a,null)),r.a.createElement(N.a,{id:"simple-vote-menu",anchorEl:o,open:Boolean(o),onClose:this.handleNetworkClose},r.a.createElement(T.a,{onClick:this.handleMainnet,disabled:!i},"Mainnet\xa0\xa0 ",r.a.createElement(R.a,{style:{color:"green"}})),r.a.createElement(T.a,{onClick:this.handleTestnet,disabled:i},"Testnet\xa0\xa0 ",r.a.createElement(R.a,{style:{color:"green"}}))),r.a.createElement(G.a,{"aria-labelledby":"simple-modal-title","aria-describedby":"simple-modal-description",open:this.state.openCustomNodeForm,onClose:this.handleCloseCustomNodeForm},r.a.createElement("div",{className:t.modalContent},r.a.createElement(K,{handleCustomNode:this.handleCustomNode}))))))}}]),t}(r.a.Component),ee=p()(_.b,U.b,Object(h.withStyles)(function(e){return{root:{flexGrow:1,marginBottom:"15px"},toolbar:{width:"90%",margin:"0 auto"},flex:{flex:1},menuButton:{marginTop:3,marginRight:10},logo:{width:"39px"},menuText:{color:"white"},network:{borderStyle:"solid",borderWidth:"1px",color:"green"},subMenuText:{color:"black"},modalContent:{position:"absolute",width:50*e.spacing.unit,backgroundColor:e.palette.background.paper,boxShadow:e.shadows[5],padding:4*e.spacing.unit,top:"50%",left:"50%",transform:"translate(-50%, -50%)"},testnetHeader:{color:"#ffa000"}}}))($),te=a(874),ae=a(116),ne=a.n(ae),re=Object(h.createMuiTheme)({palette:{}});var le=function(e){return function(t){return r.a.createElement(h.MuiThemeProvider,{theme:re},r.a.createElement(ne.a,null),r.a.createElement(e,t))}},oe=a(403),ie=a(51),ce=a(15),se=a.n(ce),me=a(23),ue=a(47),de=a(124),pe=a.n(de),he=a(38),Ee=a.n(he),fe=a(97),be=a.n(fe),ge=a(42),ve=a.n(ge),ye=a(386),xe=a.n(ye),Ce=r.a.createContext(),we=function(e){return function(t){return r.a.createElement(Ce.Consumer,null,function(a){return r.a.createElement(e,Object.assign({},t,{factomCliController:a}))})}},ke=a(36),Oe=1e-8,Se="storageAddresses",Ae=["importType","address","nickname","index","saveLocally"],je=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(s.a)(this,Object(m.a)(t).call(this,e))).smartSetState=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:be.a;return new Promise(function(n){return a.setState(e,pe()([t,n]))})},a.saveStateToLocalStorage=function(){var e=function(e){return e.filter(function(e){return e.saveLocally}).map(function(e){return xe()(e,Ae)})},t=Object(ue.a)({},a.state.addresses),n=t.mainnet,r=t.testnet,l={mainnet:{fct:e(n.fct),ec:e(n.ec)},testnet:{fct:e(r.fct),ec:e(r.ec)}};localStorage.setItem(Se,JSON.stringify(l))},a.hydrateStateWithLocalStorage=Object(me.a)(se.a.mark(function e(){var t,n,r,l,o;return se.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t=JSON.parse(localStorage.getItem(Se)),ve()(t)){e.next=11;break}return n=function(e){return e.map(function(e){return Object(ue.a)({},e,{balance:null,transactions:[]})})},r=t.mainnet,l=t.testnet,o={mainnet:{fct:n(r.fct),ec:n(r.ec)},testnet:{fct:n(l.fct),ec:n(l.ec)}},e.next=7,a.smartSetState(function(e){return{addresses:o}});case 7:return e.next=9,a.setDefaultIndex();case 9:return e.next=11,a.updateBalances({force:!0});case 11:return e.next=13,a.smartSetState({readyToManageWallet:!a.isWalletEmpty()});case 13:return e.next=15,a.smartSetState({isStateHydrated:!0});case 15:case"end":return e.stop()}},e,this)})),a.setReadyToManageWallet=function(e){a.smartSetState({readyToManageWallet:e})},a.handleNetworkChange=function(){var e=Object(me.a)(se.a.mark(function e(t){return se.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.smartSetState({isStateHydrated:!1});case 2:return e.next=4,a.props.networkController.changeNetwork(t);case 4:return e.next=6,a.props.factomCliController.connectToServer();case 6:a.hydrateStateWithLocalStorage();case 7:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),a.deleteAddress=function(){var e=Object(me.a)(se.a.mark(function e(t){var n,r,l;return se.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.type,r=a.props.networkController.networkProps.network,(l=Object(ie.a)(a.state.addresses[r][n])).splice(t.index,1),e.next=6,a.smartSetState(function(e){return{addresses:Object(ue.a)({},e.addresses,Object(L.a)({},r,Object(ue.a)({},e.addresses[r],Object(L.a)({},n,Object(ie.a)(l)))))}});case 6:return e.next=8,a.setDefaultIndex();case 8:a.saveStateToLocalStorage();case 9:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),a.addAddressTransaction=function(e,t){var n=e.type,r=e.index,l=a.props.networkController.networkProps.network,o=Object(ie.a)(a.state.addresses[l][n]),i=o[r];return i.transactions.push(t),o[e.index]=i,a.smartSetState(function(e){return{addresses:Object(ue.a)({},e.addresses,Object(L.a)({},l,Object(ue.a)({},e.addresses[l],Object(L.a)({},n,Object(ie.a)(o)))))}})},a.updateAddress=function(){var e=Object(me.a)(se.a.mark(function e(t,n,r){var l,o,i,c;return se.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return l=t.type,o=a.props.networkController.networkProps.network,i=Object(ie.a)(a.state.addresses[o][l]),(c=Object(ue.a)({},i[t.index])).nickname=n,c.saveLocally=r,i[t.index]=c,e.next=9,a.smartSetState(function(e){return{addresses:Object(ue.a)({},e.addresses,Object(L.a)({},o,Object(ue.a)({},e.addresses[o],Object(L.a)({},l,Object(ie.a)(i)))))}});case 9:a.saveStateToLocalStorage();case 10:case"end":return e.stop()}},e,this)}));return function(t,a,n){return e.apply(this,arguments)}}(),a.isWalletEmpty=function(){var e=a.props.networkController.networkProps.network;return Ee()(a.state.addresses[e].fct)&&Ee()(a.state.addresses[e].ec)},a.setDefaultIndex=function(){return Ee()(a.getFactoidAddresses())?Ee()(a.getEntryCreditAddresses())?a.smartSetState({activeAddressIndex_o:null}):a.selectAddress(0,"ec"):a.selectAddress(0,"fct")},a.verifyKey=function(e,t){var a=t.address;try{return Object(ke.getPublicAddress)(e).valueOf()===a.valueOf()}catch(n){return!1}},a.addAddress=function(e,t){a.addAddresses([e],t),a.selectAddress(a.getNextIndex(t),t)},a.addAddresses=function(){var e=Object(me.a)(se.a.mark(function e(t,n){var r;return se.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=a.props.networkController.networkProps.network,e.next=3,a.smartSetState(function(e){return{addresses:Object(ue.a)({},e.addresses,Object(L.a)({},r,Object(ue.a)({},e.addresses[r],Object(L.a)({},n,Object(ie.a)(e.addresses[r][n]).concat(Object(ie.a)(t))))))}});case 3:return e.next=5,a.setDefaultIndex();case 5:return e.next=7,a.updateBalances();case 7:case"end":return e.stop()}},e,this)}));return function(t,a){return e.apply(this,arguments)}}(),a.getNextIndex=function(e){var t=0;return"fct"===e?t=a.getFactoidAddresses().length-1:"ec"===e&&(t=a.getEntryCreditAddresses().length-1),t},a.selectAddress=function(e,t){return a.smartSetState({activeAddressIndex_o:{index:e,type:t}})},a.getActiveAddress=function(){if(null!==a.state.activeAddressIndex_o){var e=a.props.networkController.networkProps.network;return a.state.addresses[e][a.state.activeAddressIndex_o.type][a.state.activeAddressIndex_o.index]}return null},a.getFactoidAddresses=function(){return a.getAddresses("fct")},a.getEntryCreditAddresses=function(){return a.getAddresses("ec")},a.getAddresses=function(e){var t=a.props.networkController.networkProps.network;return a.state.addresses[t][e]},a.updateWalletBalance=function(){var e=Object(me.a)(se.a.mark(function e(t){var n;return se.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.props.factomCliController.factomCli.getBalance(t.address);case 2:return n=e.sent,e.abrupt("return",Object(ue.a)({},t,{balance:n}));case 4:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),a.updateBalances=Object(me.a)(se.a.mark(function e(){var t,n,r,l,o,i,c,s,m=arguments;return se.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t=m.length>0&&void 0!==m[0]?m[0]:{},n=t.force,r=void 0!==n&&n,!a.state.isStateHydrated&&!r){e.next=10;break}return l=a.props.networkController.networkProps.network,e.next=5,Promise.all([Promise.all(a.state.addresses[l].fct.map(a.updateWalletBalance)),Promise.all(a.state.addresses[l].ec.map(a.updateWalletBalance))]);case 5:return o=e.sent,i=Object(oe.a)(o,2),c=i[0],s=i[1],e.abrupt("return",a.smartSetState(function(e){return{addresses:Object(ue.a)({},e.addresses,Object(L.a)({},l,Object(ue.a)({},e.addresses[l],{ec:s,fct:c})))}}));case 10:case"end":return e.stop()}},e,this)})),a.getEntryCreditRate=Object(me.a)(se.a.mark(function e(){return se.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.props.factomCliController.factomCli.getEntryCreditRate();case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},e,this)})),a.getFactoshiFee=Object(me.a)(se.a.mark(function e(){var t,n,r;return se.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.getEntryCreditRate();case 2:return t=e.sent,n="FA3E6enA33y9f5K9q9nrWfcDNrVR4zAp4xpniizNjQbV4RAmPjat",r=ke.Transaction.builder().input(n,Number.MAX_SAFE_INTEGER).output(n,Number.MAX_SAFE_INTEGER).build().computeRequiredFees(t,{rcdType:1}),e.abrupt("return",r);case 6:case"end":return e.stop()}},e,this)})),a.getFactoidFee=Object(me.a)(se.a.mark(function e(){var t;return se.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.getFactoshiFee();case 2:return t=e.sent,e.abrupt("return",t*Oe);case 4:case"end":return e.stop()}},e,this)})),a.newStandardAddress=function(e,t){return{importType:"standard",address:e,nickname:t,balance:null,transactions:[],saveLocally:!1}},a.newSeedAddress=function(e,t,a){return{importType:"seed",address:e,nickname:t,balance:null,transactions:[],index:a,saveLocally:!1}},a.newLedgerAddress=function(e,t,a){return{importType:"ledger",address:e,nickname:t,balance:null,transactions:[],index:a,saveLocally:!1}},a.state={addresses:{mainnet:{fct:[],ec:[]},testnet:{fct:[],ec:[]}},activeAddressIndex_o:null,isStateHydrated:!1,readyToManageWallet:!1,setReadyToManageWallet:a.setReadyToManageWallet,isWalletEmpty:a.isWalletEmpty,handleNetworkChange:a.handleNetworkChange,verifyKey:a.verifyKey,updateAddress:a.updateAddress,addAddressTransaction:a.addAddressTransaction,deleteAddress:a.deleteAddress,getAddresses:a.getAddresses,getFactoidAddresses:a.getFactoidAddresses,getEntryCreditAddresses:a.getEntryCreditAddresses,addAddresses:a.addAddresses,addAddress:a.addAddress,selectAddress:a.selectAddress,getActiveAddress:a.getActiveAddress,updateWalletBalance:a.updateWalletBalance,updateBalances:a.updateBalances,getEntryCreditRate:a.getEntryCreditRate,getFactoshiFee:a.getFactoshiFee,getFactoidFee:a.getFactoidFee,newStandardAddress:a.newStandardAddress,newSeedAddress:a.newSeedAddress,newLedgerAddress:a.newLedgerAddress},a}return Object(u.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){var e=Object(me.a)(se.a.mark(function e(){return se.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:this.hydrateStateWithLocalStorage();case 1:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){return this.state.isStateHydrated?r.a.createElement(U.a.Provider,{value:this.state},this.props.children):null}}]),t}(r.a.Component),Ne=p()(_.b,we)(je),Fe=r.a.createContext(),Te=function(e){return function(t){return r.a.createElement(Fe.Consumer,null,function(a){return r.a.createElement(e,Object.assign({},t,{seedController:a}))})}},Pe=a(88),Be=a.n(Pe),Ie=function(e){return Object(ke.getPublicAddress)(Object(ke.keyToPrivateFctAddress)(e))},Re=function(e){return Object(ke.getPublicAddress)(Object(ke.keyToPrivateEcAddress)(e))},Le=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(s.a)(this,Object(m.a)(t).call(this,e))).getSeedAddresses=function(){var e=Object(me.a)(se.a.mark(function e(t,n,r,l){var o,i,c,s,m,u,d;return se.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:for(o=[],i=a.props.networkController.networkProps.bip32Account,c=new Be.a.FactomBIP44(t),s=n;s<n+r;s++)m=null,u=null,"fct"===l?(m=c.generateFactoidPrivateKey(i,0,s),u=Ie(m)):"ec"===l&&(m=c.generateEntryCreditPrivateKey(i,0,s),u=Re(m)),o.push({address:u,index:s});return e.next=6,Promise.all(o.map(a.props.walletController.updateWalletBalance));case 6:return d=e.sent,e.abrupt("return",d);case 8:case"end":return e.stop()}},e,this)}));return function(t,a,n,r){return e.apply(this,arguments)}}(),a.signWithSeed=function(){var e=Object(me.a)(se.a.mark(function e(t){var n,r,l,o,i,c,s,m,u;return se.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.mnemonic,r=t.index,l=t.toAddr,o=t.amount,i=t.type,c={},s=a.props.networkController.networkProps.bip32Account,m=new Be.a.FactomBIP44(n),u=Object(ke.keyToPrivateFctAddress)(m.generateFactoidPrivateKey(s,0,r)),"sendFCT"!==i){e.next=11;break}return e.next=8,a.props.factomCliController.factomCli.createFactoidTransaction(u,l,o);case 8:c=e.sent,e.next=15;break;case 11:if("convertFCT"!==i){e.next=15;break}return e.next=14,a.props.factomCliController.factomCli.createEntryCreditPurchaseTransaction(u,l,o);case 14:c=e.sent;case 15:return e.abrupt("return",c);case 16:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),a.verifySeed=function(e,t){var n=t.address,r=t.index;try{var l=new Be.a.FactomBIP44(e),o=a.props.networkController.networkProps.bip32Account;return Ie(l.generateFactoidPrivateKey(o,0,r)).valueOf()===n.valueOf()}catch(i){return!1}},a.getPrivateKey=function(e,t){var n=a.props.networkController.networkProps.bip32Account,r=new Be.a.FactomBIP44(e).generateFactoidPrivateKey(n,0,t);return Object(ke.keyToPrivateFctAddress)(r)},a.state={getSeedAddresses:a.getSeedAddresses,signWithSeed:a.signWithSeed,verifySeed:a.verifySeed,getRandomMnemonic:a.getRandomMnemonic,getPrivateKey:a.getPrivateKey},a}return Object(u.a)(t,e),Object(c.a)(t,[{key:"getRandomMnemonic",value:function(){return Be.a.randomMnemonic()}},{key:"render",value:function(){return r.a.createElement(Fe.Provider,{value:this.state},this.props.children)}}]),t}(r.a.Component),We=p()(U.b,_.b,we)(Le),De=a(387),Me=a.n(De),Ve=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(s.a)(this,Object(m.a)(t).call(this,e))).defaultConnectionParams={host:"api.myfactomwallet.com",port:a.props.networkController.networkProps.apiPort,path:"/v2",debugPath:"/debug",protocol:"https",rejectUnauthorized:!0,retry:{retries:4,factor:2,minTimeout:500,maxTimeout:2e3}},a.newFactomCli=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return new ke.FactomCli(Me()(a.defaultConnectionParams,e))},a.connectToServer=Object(me.a)(se.a.mark(function e(){var t,n=arguments;return se.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=n.length>0&&void 0!==n[0]?n[0]:{port:a.props.networkController.networkProps.apiPort},e.next=3,a.smartSetState({factomCli:a.newFactomCli(t)});case 3:case"end":return e.stop()}},e,this)})),a.smartSetState=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:be.a;return new Promise(function(n){return a.setState(e,pe()([t,n]))})},a.state={factomCli:a.newFactomCli(),connectToServer:a.connectToServer},a}return Object(u.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return r.a.createElement(Ce.Provider,{value:this.state},this.props.children)}}]),t}(r.a.Component),Je=p()(_.b)(Ve),He=a(201),qe=a(118),Ke=a.n(qe),ze=a(119),Ge=a.n(ze),Ue=a(120),_e=a.n(Ue),Ye=a(117),Qe=a.n(Ye),Xe=a(76),Ze=a.n(Xe),$e=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(s.a)(this,Object(m.a)(t).call(this))).handleAgree=function(){a.props.onClose(a.state.value)},a.handleChange=function(e,t){a.setState({value:t})},a.state={value:e.value},a}return Object(u.a)(t,e),Object(c.a)(t,[{key:"componentWillReceiveProps",value:function(e){e.value!==this.props.value&&this.setState({value:e.value})}},{key:"render",value:function(){var e=this.props,t=e.classes,a=(e.value,Object(He.a)(e,["classes","value"]));return r.a.createElement(Qe.a,Object.assign({disableBackdropClick:!0,disableEscapeKeyDown:!0,"aria-labelledby":"confirmation-dialog-title"},a),r.a.createElement(Ke.a,{align:"center",style:{backgroundColor:"#f50057"}},r.a.createElement(Ze.a,{fontSize:"large"})),r.a.createElement(Ge.a,{className:t.lessPad},r.a.createElement("br",null),r.a.createElement(y.a,{variant:"h5",align:"center"},"Testnet Warning"),r.a.createElement("br",null),r.a.createElement(y.a,null,"By using MyFactomWallet.com and/or by clicking 'accept' at the bottom, you agree to the following notices:"),r.a.createElement(y.a,{variant:"h5",align:"center"},"Notices"),r.a.createElement("ul",null,r.a.createElement("li",null,r.a.createElement(y.a,null,"Never send funds from a mainnet address to a testnet address and vice versa. Sending Factoids to the testnet will likely result in a loss of factoids. You acknowledge that testnet Testoids and Test Credits have no value. All other MyFactomWallet.com notices and tips apply.")))),r.a.createElement(_e.a,null,r.a.createElement(C.a,{onClick:this.handleAgree,color:"primary"},"Accept")))}}]),t}(r.a.Component),et=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(s.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).state={open:!0,value:"Done"},a.handleClose=function(e){a.setState({value:e,open:!1})},a}return Object(u.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return r.a.createElement($e,{classes:this.props.classes,open:this.state.open,onClose:this.handleClose,value:this.state.value})}}]),t}(r.a.Component),tt=Object(h.withStyles)(function(e){return{lessPad:{paddingBottom:"0px"}}})(et),at=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(s.a)(this,Object(m.a)(t).call(this,e))).networkProps={mainnet:{network:"mainnet",bip32Account:0,factoidAbbreviation:"FCT",factoidAbbreviationFull:"Factoid",ecAbbreviation:"EC",ecAbbreviationFull:"Entry Credit",apiPort:8188,explorerURL:"https://explorer.factoid.org"},testnet:{network:"testnet",bip32Account:2147483647,factoidAbbreviation:"TTS",factoidAbbreviationFull:"Testoid",ecAbbreviation:"TC",ecAbbreviationFull:"Test Credit",apiPort:8288,explorerURL:"https://testnet.factoid.org"}},a.changeNetwork=function(){var e=Object(me.a)(se.a.mark(function e(t){return se.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.smartSetState({networkProps:a.networkProps[t]});case 2:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),a.smartSetState=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:be.a;return new Promise(function(n){return a.setState(e,pe()([t,n]))})},a.state={networkProps:a.networkProps.mainnet,changeNetwork:a.changeNetwork},a}return Object(u.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return r.a.createElement(_.a.Provider,{value:this.state},this.props.children,"testnet"===this.state.networkProps.network&&r.a.createElement(tt,null))}}]),t}(r.a.Component),nt=a(388),rt=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(s.a)(this,Object(m.a)(t).call(this))).handleAgree=function(){a.props.onClose(a.state.value)},a.handleChange=function(e,t){a.setState({value:t})},a.state={value:e.value},a}return Object(u.a)(t,e),Object(c.a)(t,[{key:"componentWillReceiveProps",value:function(e){e.value!==this.props.value&&this.setState({value:e.value})}},{key:"render",value:function(){var e=this.props,t=(e.classes,e.value,Object(He.a)(e,["classes","value"]));return r.a.createElement(Qe.a,Object.assign({disableBackdropClick:!0,disableEscapeKeyDown:!0,"aria-labelledby":"confirmation-dialog-title"},t),r.a.createElement(Ke.a,{align:"center",style:{backgroundColor:"#f50057"}},r.a.createElement(Ze.a,{fontSize:"large"})),r.a.createElement(Ge.a,null,r.a.createElement("br",null),r.a.createElement(y.a,{variant:"h5",align:"center"},"Important"),r.a.createElement("br",null),r.a.createElement(y.a,null,"MyFactomWallet.com is a client-side interface wallet. We provide the user with access to the Factom blockchain, but we do not store, control or have access to ANY user wallet or blockchain information including keys or transaction data. Therefore,\xa0",r.a.createElement("b",null,"we cannot reverse transactions or recover funds."),"\xa0 MyFactomWallet.com is not a bank or a custodian. Your assets and your security are entirely your own responsibility. By using MyFactomWallet.com and/or by clicking 'accept' at the bottom, you agree to the following notices:"),r.a.createElement(y.a,{variant:"h5",align:"center"},"Notices"),r.a.createElement("ul",null,r.a.createElement("li",null,r.a.createElement(y.a,null,"This project is under active development; there is always the possibility something unexpected happens that causes your funds to be lost, including but not limited to third party domain attacks. ",r.a.createElement("b",null,"We are not responsible for any loss."))),r.a.createElement("li",null,r.a.createElement(y.a,null,"Never send funds from a mainnet address to a testnet address and vice versa. Sending Factoids to the testnet will likely result in a loss of factoids. You acknowledge that testnet Testoids and Test Credits have no value.")),r.a.createElement("li",null,r.a.createElement(y.a,null,"When you create new Factoid or Entry Credit addresses on MyFactomWallet.com, a random 12-word cryptographic seed phrase is generated in the browser, and is used to generate new addresses and sign transactions.")),r.a.createElement("li",null,r.a.createElement(y.a,null,"The handling of your private keys or seed phrase is solely your responsibility. It happens entirely on your computer, inside your browser.")),r.a.createElement("li",null,r.a.createElement(y.a,null,"We never transmit, receive or store your private keys or seeds.")),r.a.createElement("li",null,r.a.createElement(y.a,null,"We do not charge a transaction fee (blockchain fees still apply).")),r.a.createElement("li",null,r.a.createElement(y.a,null,"We are not a custodian and have no information about or control over your Factoids or Entry Credits.")),r.a.createElement("li",null,r.a.createElement(y.a,null,"You are simply using our interface to interact directly with the blockchain.")),r.a.createElement("li",null,r.a.createElement(y.a,null,"If you provide your public key (address) to someone, they can transfer Factoids to you.")),r.a.createElement("li",null,r.a.createElement(y.a,null,"If you provide your private key or seed phrase to a person or entity, then that person or entity has full control of your account, and may withdraw your funds.")),r.a.createElement("li",null,r.a.createElement(y.a,null,"We are not a custodian. Your funds are stored on the blockchain and protected by your private key and/or seed phrase. As explained above, your private key is solely your responsibility and MyFactomWallet.com does not store or have access to any of your keys.")),r.a.createElement("li",null,r.a.createElement(y.a,null,'Offered under MIT License Copyright \xa9 2015-2018: THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE. The above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software.'))),r.a.createElement(y.a,{variant:"h5",align:"center"},"Important Tips"),r.a.createElement("ul",null,r.a.createElement("li",null,r.a.createElement(y.a,null,"Never hand-type your public or private address.")),r.a.createElement("li",null,r.a.createElement(y.a,null,"Always send a small amount of Factoids first to ensure that the transaction is processed correctly and the Factoids end up in the correct address. After verifying this, you may send the full amount of Factoids.")),r.a.createElement("li",null,r.a.createElement(y.a,null,"If you generated a new Factoid or Entry Credit address in MyFactomWallet.com; save and back up the associated seed BEFORE you send any funds to it.")),r.a.createElement("li",null,r.a.createElement(y.a,null,"Do not post your private key or seed on any social media, chat-platforms, email/sms it, or store it in any cloud storage service (Google Drive, Dropbox etc).")),r.a.createElement("li",null,r.a.createElement(y.a,null,"Use a hardware wallet for added protection (Ledger Nano S supported at this time).")),r.a.createElement("li",null,r.a.createElement(y.a,null,"Regularly monitor the security of your computer operating system to ensure that it is not compromised by malicious software whereby unauthorized third parties may obtain your private key or seed.")),r.a.createElement("li",null,r.a.createElement(y.a,null,"Ensure that you are not on a phishing site, but have landed on the correct page (verify that you are on https://www.myfactomwallet.com in the browser, and also check that the \u201clock\u201d symbol is displayed in the Chrome address bar).")),r.a.createElement("li",null,r.a.createElement(y.a,null,"The user must understand that MyFactomWallet.com CANNOT:"),r.a.createElement("ul",null,r.a.createElement("li",null,r.a.createElement(y.a,null,"Access your wallet or send your funds for you")),r.a.createElement("li",null,r.a.createElement(y.a,null,"Recover or change your private key or seed")),r.a.createElement("li",null,r.a.createElement(y.a,null,"Reverse, cancel, or refund any transactions")),r.a.createElement("li",null,r.a.createElement(y.a,null,"Freeze FCT or Entry Credit addresses")))))),r.a.createElement(_e.a,null,r.a.createElement(C.a,{onClick:this.handleAgree,color:"primary"},"Accept")))}}]),t}(r.a.Component),lt=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(s.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).state={open:!0,value:"Done"},a.handleClose=function(e){a.setState({value:e,open:!1})},a}return Object(u.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(rt,{open:this.state.open,onClose:this.handleClose,value:this.state.value}))}}]),t}(r.a.Component),ot=Object(h.withStyles)(function(e){return{}})(lt);var it=p()(_.b,Object(h.withStyles)(function(e){return{appBar:{top:"auto",bottom:0,minHeight:78,paddingTop:9,backgroundColor:"#ffa000"},toolbar:{marginLeft:"auto",marginRight:"auto"},warningIcon:{fontSize:52},toolbarSpace:{height:85}}}))(function(e){var t=e.classes;return"testnet"===e.networkController.networkProps.network?r.a.createElement(r.a.Fragment,null,r.a.createElement(ne.a,null),r.a.createElement("div",{className:t.toolbarSpace}),r.a.createElement(f.a,{position:"fixed",className:t.appBar},r.a.createElement(g.a,{className:t.toolbar},r.a.createElement(Ze.a,{className:t.warningIcon}),r.a.createElement(y.a,{variant:"h3"},"You are connected to the Factom ",r.a.createElement("b",null,"Testnet")),"\xa0",r.a.createElement(Ze.a,{className:t.warningIcon})))):null}),ct=a(873),st=a(60),mt=a.n(st),ut=a(43),dt=a.n(ut),pt=a(121),ht=a.n(pt),Et=a(122),ft=a.n(Et),bt=a(123),gt=a.n(bt),vt=a(4),yt=a.n(vt),xt=a(63),Ct=a.n(xt),wt=a(84),kt=a.n(wt),Ot=a(37),St=a.n(Ot),At=a(70),jt=a.n(At),Nt=a(146),Ft=a.n(Nt),Tt=function(e){function t(){return Object(i.a)(this,t),Object(s.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this,t=this.props,a=t.classes,n=t.importType,l=t.networkController.networkProps;return r.a.createElement(W.e,{initialValues:Object(L.a)({},"importType",n),onSubmit:function(t,a){e.props.handleNext()},validationSchema:D.object().shape(Object(L.a)({},"importType",D.string().required("Required"))),render:function(t){var n=t.values,o=t.handleChange,i=t.isSubmitting,c=t.errors,s=t.touched;return r.a.createElement(W.d,null,r.a.createElement(jt.a,{error:!(!yt()(c,"importType")||!yt()(s,"importType")),component:"fieldset"},r.a.createElement(Ft.a,{component:"legend"},"How would you like to add a new address?",r.a.createElement(W.a,{name:"importType",render:function(){return r.a.createElement("span",{className:a.errorText},"\xa0*")}})),r.a.createElement(kt.a,{"aria-label":"Import Type",name:"importType",value:yt()(n,"importType"),onChange:function(t){o(t),e.props.updateImportType(t.target.value)}},function(e){return[{value:"fct",label:"Import "+e.factoidAbbreviationFull+" Address"},{value:"ec",label:"Import "+e.ecAbbreviationFull+" Address"},{value:"new",label:"Generate new 12-word seed"},{value:"importSeed",label:"Import addresses from mnemonic seed phrase"},{value:"ledger",label:"Import addresses from Ledger Nano S"}]}(l).map(function(e,t){return r.a.createElement(St.a,{key:t,value:e.value,control:r.a.createElement(Ct.a,null),label:e.label,disabled:e.disabled})}))),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("div",null,r.a.createElement(C.a,{disabled:!0},"Back"),r.a.createElement(C.a,{type:"submit",disabled:i,variant:"contained",color:"primary"},"Next")))}})}}]),t}(r.a.Component),Pt=p()(_.b,Object(h.withStyles)(function(e){return{errorText:{color:"red"}}}))(Tt),Bt=a(125),It=a.n(Bt),Rt="factoidAddress",Lt=function(e){function t(){return Object(i.a)(this,t),Object(s.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e,t=this,a=this.props,n=a.classes,l=a.walletController,o=l.getFactoidAddresses,i=l.newStandardAddress,c=l.addAddress,s=a.networkController.networkProps,m=o();return r.a.createElement(W.e,{initialValues:{factoidAddress:"",nickname:""},onSubmit:function(e,a){var n=i(yt()(e,Rt),yt()(e,"nickname").trim());c(n,"fct"),t.props.handleNext()},validationSchema:D.object().shape((e={},Object(L.a)(e,Rt,D.string().required("Required").test(Rt,"Invalid Address",ke.isValidFctPublicAddress).test(Rt,"Enter unique address",function(e){return-1===It()(m,["address",e])})),Object(L.a)(e,"nickname",D.string().trim().required("Required").test("nickname","Enter unique nickname",function(e){return-1===It()(m,["nickname",e])})),e)),render:function(e){var a=e.isSubmitting,l=e.errors,o=e.touched;return r.a.createElement(W.d,null,r.a.createElement(Wt,{error:!(!l.factoidAddress||!o.factoidAddress),name:Rt,label:"Public "+s.factoidAbbreviationFull+" Address",maxLength:52}),r.a.createElement(W.a,{name:Rt,render:function(e){return r.a.createElement("span",{className:n.errorText},e)}}),r.a.createElement(Wt,{error:!(!l.nickname||!o.nickname),name:"nickname",label:"Nickname",maxLength:25}),r.a.createElement(W.a,{name:"nickname",render:function(e){return r.a.createElement("span",{className:n.errorText},e)}}),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("div",null,r.a.createElement(C.a,{onClick:t.props.handleBack},"Back"),r.a.createElement(C.a,{type:"submit",disabled:a,variant:"contained",color:"primary"},"Submit")))}})}}]),t}(r.a.Component),Wt=function(e){return r.a.createElement(W.b,{name:e.name},function(t){var a=t.field;return r.a.createElement(V.a,Object.assign({inputProps:Object(L.a)({spellCheck:!1,maxLength:e.maxLength,autoComplete:"nope"},"autoComplete","off")},a,{label:e.label+" "+(e.error?"*":""),margin:"dense",fullWidth:!0,error:e.error}))})},Dt=p()(_.b,U.b,Object(h.withStyles)(function(e){return{errorText:{color:"red",fontSize:"12px"}}}))(Lt),Mt=function(e){function t(){return Object(i.a)(this,t),Object(s.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e,t=this,a=this.props,n=a.classes,l=a.walletController,o=l.getEntryCreditAddresses,i=l.newStandardAddress,c=l.addAddress,s=a.networkController.networkProps,m=o();return r.a.createElement(W.e,{initialValues:{entryCreditAddress:"",nickname:""},onSubmit:function(e,a){var n=i(yt()(e,"entryCreditAddress"),yt()(e,"nickname").trim());c(n,"ec"),t.props.handleNext()},validationSchema:D.object().shape((e={},Object(L.a)(e,"entryCreditAddress",D.string().required("Required").test("entryCreditAddress","Invalid Address",ke.isValidEcPublicAddress).test("entryCreditAddress","Enter unique address",function(e){return-1===It()(m,["address",e])})),Object(L.a)(e,"nickname",D.string().trim().required("Required").test("nickname","Enter unique nickname",function(e){return-1===It()(m,["nickname",e])})),e)),render:function(e){var a=e.isSubmitting,l=e.errors,o=e.touched;return r.a.createElement(W.d,null,r.a.createElement(Vt,{error:!(!l.entryCreditAddress||!o.entryCreditAddress),name:"entryCreditAddress",label:"Public "+s.ecAbbreviationFull+" Address",helperText:"test",maxLength:52}),r.a.createElement(W.a,{name:"entryCreditAddress",render:function(e){return r.a.createElement("span",{className:n.errorText},e)}}),r.a.createElement(Vt,{error:!(!l.nickname||!o.nickname),name:"nickname",label:"Nickname",maxLength:25}),r.a.createElement(W.a,{name:"nickname",render:function(e){return r.a.createElement("span",{className:n.errorText},e)}}),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("div",null,r.a.createElement(C.a,{onClick:t.props.handleBack},"Back"),r.a.createElement(C.a,{type:"submit",disabled:a,variant:"contained",color:"primary"},"Submit")))}})}}]),t}(r.a.Component),Vt=function(e){return r.a.createElement(W.b,{name:e.name},function(t){var a=t.field;return r.a.createElement(V.a,Object.assign({inputProps:Object(L.a)({spellCheck:!1,maxLength:e.maxLength,autoComplete:"nope"},"autoComplete","off")},a,{label:e.label+" "+(e.error?"*":""),margin:"dense",fullWidth:!0,error:e.error}))})},Jt=p()(_.b,U.b,Object(h.withStyles)(function(e){return{errorText:{color:"red",fontSize:"12px"}}}))(Mt),Ht=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(s.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).state={step:1},a.nextStep=function(){a.setState({step:2})},a}return Object(u.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){this.props.setMnemonic(this.props.seedController.getRandomMnemonic())}},{key:"render",value:function(){var e=this,t=this.props.classes;return r.a.createElement(W.e,{initialValues:Object(L.a)({},"mnemonic",""),onSubmit:function(t,a){e.props.handleNext()},validationSchema:D.object().shape(Object(L.a)({},"mnemonic",D.string().trim().required("Required").oneOf([this.props.mnemonic],"Seed does not match"))),render:function(a){var n=a.isSubmitting,l=a.errors,o=a.touched;return r.a.createElement(W.d,Object(L.a)({style:{width:"500px"},autoComplete:"nope"},"autoComplete","off"),1===e.state.step&&r.a.createElement(r.a.Fragment,null,r.a.createElement(y.a,{style:{fontWeight:500},className:t.warningText},"Write down your seed carefully on a piece of paper. This seed provides access to all the derived addresses. If you lose this seed, you will lose access to your addresses forever!"),r.a.createElement("br",null),r.a.createElement(y.a,{style:{fontWeight:500}},"Seed Phrase:"),r.a.createElement(y.a,null,e.props.mnemonic)),2===e.state.step&&r.a.createElement(r.a.Fragment,null,r.a.createElement(qt,{error:!(!yt()(l,"mnemonic")||!yt()(o,"mnemonic")),name:"mnemonic",label:"Verify Seed Phrase",autoFocus:!0}),r.a.createElement(W.a,{name:"mnemonic",render:function(e){return r.a.createElement("span",{className:t.errorText},e)}})),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("div",null,r.a.createElement(C.a,{onClick:function(){e.props.setMnemonic(null),e.props.handleBack()}},"Back"),1===e.state.step&&r.a.createElement(C.a,{onClick:e.nextStep,variant:"contained",color:"primary"},"Verify Seed"),2===e.state.step&&r.a.createElement(C.a,{type:"submit",disabled:n,variant:"contained",color:"primary"},"Next")))}})}}]),t}(r.a.Component),qt=function(e){return r.a.createElement(W.b,{name:e.name},function(t){var a=t.field;return r.a.createElement(V.a,Object.assign({inputProps:Object(L.a)({autoComplete:"nope"},"autoComplete","off")},a,{label:e.label+" "+(e.error?"*":""),margin:"dense",fullWidth:!0,error:e.error,autoFocus:e.autoFocus}))})},Kt=p()(Te,Object(h.withStyles)(function(e){return{warningText:{color:"red",fontSize:"15px"},errorText:{color:"red"}}}))(Ht),zt=a(72),Gt=a(85),Ut=a.n(Gt),_t=a(87),Yt=a.n(_t),Qt=a(29),Xt=a.n(Qt),Zt=a(86),$t=a.n(Zt),ea=a(68),ta=a.n(ea),aa=a(192),na=a.n(aa),ra=a(46),la=a.n(ra),oa=function(e){var t=e.balance;return(1e-8*parseInt(t,10)).toLocaleString(void 0,{maximumFractionDigits:8})+" "+e.networkProps.factoidAbbreviation},ia=function(e){var t=e.balance;return parseInt(t,10)+" "+e.networkProps.ecAbbreviation},ca=p()(_.b)(function(e){var t=e.balance,a=e.type,n=e.networkController.networkProps;return"fct"===a?r.a.createElement(oa,{balance:t,networkProps:n}):"ec"===a?r.a.createElement(ia,{balance:t,networkProps:n}):void 0}),sa=a(62),ma=a.n(sa),ua=a(49),da=a.n(ua),pa=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(s.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).state={loading:!1},a.addGeneratedAddress=function(e,t,n){if(e){var r=a.props.newAddress(t.address,e.trim(),t.index);n.replace(t.index,r)}else n.replace(t.index,null)},a.validateNickname=function(e){var t,n=a.props.userAddressList.map(function(e){return e.nickname});return e?-1!==n.indexOf(e.trim())&&(t="Enter unique nickname"):t="Required",t},a.getNext=Object(me.a)(se.a.mark(function e(){return se.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a.setState({loading:!0}),e.next=3,a.props.getNextFive();case 3:a.setState({loading:!1});case 4:case"end":return e.stop()}},e,this)})),a}return Object(u.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this,t=this.props,a=t.classes,n=t.generatedAddressList,l=t.userAddressList,o=t.values,i=t.errors,c=t.touched,s=t.setFieldValue,m=t.handleChange,u=l.map(function(e){return e.address});return r.a.createElement(r.a.Fragment,null,r.a.createElement(y.a,{variant:"h6"},this.props.title),r.a.createElement(W.a,{name:"addresses",render:function(e){return r.a.createElement("span",{className:a.errorText},r.a.createElement("br",null),e)}}),r.a.createElement(Q.a,{className:a.root},r.a.createElement(Ut.a,null,r.a.createElement($t.a,null,r.a.createElement(ta.a,null,r.a.createElement(ha,null),r.a.createElement(ha,null,"Address"),r.a.createElement(ha,null,"Balance"),r.a.createElement(ha,null,"Nickname"))),r.a.createElement(Yt.a,null,!Ee()(n)&&n.map(function(t){var n="checkbox_"+t.index,d="nickname_"+t.index,p=-1!==u.indexOf(t.address);return r.a.createElement(ta.a,{key:t.index},r.a.createElement(W.c,{name:"addresses",render:function(u){return r.a.createElement(r.a.Fragment,null,r.a.createElement(ha,null,p?r.a.createElement(la.a,{title:"Address already added"},r.a.createElement(St.a,{control:r.a.createElement(ma.a,{checked:!0,disabled:!0,name:n,color:"primary"}),label:t.index+1,labelPlacement:"start"})):r.a.createElement(W.b,{name:n,render:function(e){e.field,e.form;return r.a.createElement(St.a,{control:r.a.createElement(ma.a,{name:n,color:"primary",onChange:function(e){u.replace(t.index,null),s(d,""),m(e)}}),label:t.index+1,labelPlacement:"start"})}})),r.a.createElement(ha,null,t.address),r.a.createElement(ha,null,r.a.createElement(ca,{balance:t.balance,type:e.props.type})),r.a.createElement(ha,null,p?l.find(function(e){return e.address===t.address}).nickname:r.a.createElement(r.a.Fragment,null,yt()(o,n)&&r.a.createElement(r.a.Fragment,null,r.a.createElement(W.b,{name:d,validate:e.validateNickname},function(a){var n=a.field;return r.a.createElement(V.a,Object.assign({},n,{onChange:function(a){m(a),e.addGeneratedAddress(a.target.value,t,u)},autoFocus:!0,margin:"dense",fullWidth:!0,error:!(!i[d]||!c[d]),inputProps:{maxLength:25}}))}),r.a.createElement(W.a,{name:d,render:function(e){return r.a.createElement("span",{className:a.errorTextSmall},e)}})))))}}))})),r.a.createElement(na.a,null))),r.a.createElement("br",null),r.a.createElement(C.a,{type:"button",onClick:this.getNext,variant:"outlined",color:"primary",disabled:this.state.loading},"Load Five More",(this.state.loading||Ee()(n))&&r.a.createElement(r.a.Fragment,null,"\xa0",r.a.createElement(da.a,{thickness:7}))))}}]),t}(r.a.Component),ha=Object(h.withStyles)(function(e){return{head:{color:"black",fontSize:"13px",paddingLeft:5,paddingRight:5},body:{paddingLeft:5,paddingRight:5}}})(Xt.a),Ea=Object(h.withStyles)(function(e){return{root:{width:"800px",marginTop:12,overflowX:"auto",maxHeight:405},head:{backgroundColor:e.palette.common.black,color:e.palette.common.white},errorText:{color:"red",fontSize:"20px"},errorTextSmall:{color:"red",fontSize:"12px"}}})(pa),fa=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(s.a)(this,Object(m.a)(t).call(this,e))).retryConnection=function(){a.setState({ledgerStatus:null}),a.getNextFive(0)},a.getNextFive=function(){var e=Object(me.a)(se.a.mark(function e(t){var n;return se.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,a.props.ledgerController.getLedgerAddresses(a.state.generatedAddressList.length,5,a.props.type);case 3:n=e.sent,a.setState(function(e){return{generatedAddressList:Object(ie.a)(e.generatedAddressList).concat(Object(ie.a)(n)),ledgerConnected:!0}}),e.next=11;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0),a.setState({ledgerStatus:"Ledger Nano S not found. Troubleshooting tips:",ledgerConnected:!1});case 11:case"end":return e.stop()}},e,this,[[0,7]])}));return function(t){return e.apply(this,arguments)}}(),a.hasAddressSelected=function(e){return Object.keys(e).filter(function(e){return e.startsWith("checkbox")}).some(function(t){return e[t]})},a.state={generatedAddressList:[],ledgerConnected:!1,ledgerStatus:null},a}return Object(u.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){this.getNextFive(0)}},{key:"render",value:function(){var e=this,t=this.props,a=t.type,n=t.walletController,l=n.getAddresses,o=n.addAddresses,i=n.newLedgerAddress,c=t.networkController.networkProps,s=l(a);return r.a.createElement(W.e,{enableReinitialize:!0,initialValues:{addresses:[],ledgerConnected:this.state.ledgerConnected,ledgerStatus:this.state.ledgerStatus},onSubmit:function(){var t=Object(me.a)(se.a.mark(function t(a,n){var r,l,i,c,s,m,u;return se.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:for(r=[],l=!0,i=!1,c=void 0,t.prev=4,s=yt()(a,"addresses")[Symbol.iterator]();!(l=(m=s.next()).done);l=!0)u=m.value,ve()(u)||r.push(u);t.next=12;break;case 8:t.prev=8,t.t0=t.catch(4),i=!0,c=t.t0;case 12:t.prev=12,t.prev=13,l||null==s.return||s.return();case 15:if(t.prev=15,!i){t.next=18;break}throw c;case 18:return t.finish(15);case 19:return t.finish(12);case 20:o(r,e.props.type),e.props.handleNext();case 22:case"end":return t.stop()}},t,this,[[4,8,12,20],[13,,15,19]])}));return function(e,a){return t.apply(this,arguments)}}(),validationSchema:D.object().shape({}),render:function(t){var n=t.isSubmitting,l=t.errors,o=t.touched,m=t.values,u=t.setFieldValue,d=t.handleChange;return r.a.createElement(W.d,null,m.ledgerConnected?r.a.createElement(r.a.Fragment,null,r.a.createElement(Ea,{title:function(e){return{fct:"Ledger Nano S "+e.factoidAbbreviationFull+" Addresses",ec:"Ledger Nano S "+e.ecAbbreviationFull+" Addresses"}}(c)[a],type:a,generatedAddressList:e.state.generatedAddressList,userAddressList:s,getNextFive:e.getNextFive,newAddress:i,values:m,errors:l,touched:o,setFieldValue:u,handleChange:d})):r.a.createElement(r.a.Fragment,null,r.a.createElement("br",null),ve()(m.ledgerStatus)?r.a.createElement(r.a.Fragment,null,r.a.createElement(y.a,null,r.a.createElement("b",null,"Connecting to Ledger Nano S")),r.a.createElement(da.a,{thickness:7})):r.a.createElement(r.a.Fragment,null,r.a.createElement(y.a,null,m.ledgerStatus),r.a.createElement("ul",null,r.a.createElement("li",null,r.a.createElement(y.a,null,"Are you using a Ledger Nano S device?")),r.a.createElement("li",null,r.a.createElement(y.a,null,"Is the Factom app launched on your device?")),r.a.createElement("li",null,r.a.createElement(y.a,null,"Is your device running the latest version?")),r.a.createElement("li",null,r.a.createElement(y.a,null,"Have you closed the Ledger Live Manager?")),r.a.createElement("li",null,r.a.createElement(y.a,null,"Are you using\xa0",r.a.createElement("a",{target:"_blank",rel:"noopener noreferrer",href:"https://www.google.com/chrome/"},"Chrome"),"?")),r.a.createElement("li",null,r.a.createElement(y.a,null,"Are you running any adblockers?")),r.a.createElement("li",null,r.a.createElement(y.a,null,"Have you tried restarting your device?")),r.a.createElement("li",null,r.a.createElement(y.a,null,"Support is available in the #ledger-nano-s channel on our\xa0",r.a.createElement("a",{target:"_blank",rel:"noopener noreferrer",href:"https://discord.gg/79kH2pp"},"Discord server"),"."))),r.a.createElement(C.a,{variant:"contained",color:"primary",onClick:e.retryConnection},"Retry")),r.a.createElement(r.a.Fragment,null,r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement(y.a,null,r.a.createElement("b",null,"Note:")),r.a.createElement("ul",null,r.a.createElement("li",null,r.a.createElement(y.a,null,"The Ledger Nano S hardware wallet can be ordered from\xa0",r.a.createElement("a",{target:"_blank",rel:"noopener noreferrer",href:"https://www.ledger.com/?r=1b0be6fa98ba"},"Ledger's website")," ","(affiliate link).")),r.a.createElement("li",null,r.a.createElement(y.a,null,"To function properly, the Factom application needs to be launched on the Ledger Nano S. You can install the application from the Ledger Live Manager."))))),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("div",null,r.a.createElement(C.a,{onClick:e.props.handleBack},"Back"),r.a.createElement(C.a,{type:"submit",disabled:n||!e.state.ledgerConnected,variant:"contained",color:"primary"},e.hasAddressSelected(m)?"Add and Continue":"Skip")))}})}}]),t}(r.a.Component),ba=p()(_.b,zt.b,U.b,Object(h.withStyles)(function(e){return{errorText:{color:"red",fontSize:"12px"}}}))(fa),ga=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(s.a)(this,Object(m.a)(t).call(this,e))).getNextFive=Object(me.a)(se.a.mark(function e(){var t;return se.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.props.seedController.getSeedAddresses(a.props.mnemonic,a.state.generatedAddressList.length,5,a.props.type);case 2:t=e.sent,a.setState(function(e){return{generatedAddressList:Object(ie.a)(e.generatedAddressList).concat(Object(ie.a)(t))}});case 4:case"end":return e.stop()}},e,this)})),a.hasAddressSelected=function(e){return Object.keys(e).filter(function(e){return e.startsWith("checkbox")}).some(function(t){return e[t]})},a.state={generatedAddressList:[]},a}return Object(u.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){this.getNextFive(0)}},{key:"render",value:function(){var e=this,t=this.props,a=t.type,n=t.walletController,l=n.getAddresses,o=n.addAddresses,i=n.newSeedAddress,c=t.networkController.networkProps,s=l(a);return r.a.createElement(W.e,{enableReinitialize:!0,initialValues:Object(L.a)({},"addresses",[]),onSubmit:function(){var t=Object(me.a)(se.a.mark(function t(a,n){var r,l,i,c,s,m,u;return se.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:for(r=[],l=!0,i=!1,c=void 0,t.prev=4,s=yt()(a,"addresses")[Symbol.iterator]();!(l=(m=s.next()).done);l=!0)u=m.value,ve()(u)||r.push(u);t.next=12;break;case 8:t.prev=8,t.t0=t.catch(4),i=!0,c=t.t0;case 12:t.prev=12,t.prev=13,l||null==s.return||s.return();case 15:if(t.prev=15,!i){t.next=18;break}throw c;case 18:return t.finish(15);case 19:return t.finish(12);case 20:o(r,e.props.type),e.props.handleNext();case 22:case"end":return t.stop()}},t,this,[[4,8,12,20],[13,,15,19]])}));return function(e,a){return t.apply(this,arguments)}}(),validationSchema:D.object().shape({}),render:function(t){var n=t.isSubmitting,l=t.errors,o=t.touched,m=t.values,u=t.setFieldValue,d=t.handleChange;return r.a.createElement(W.d,null,r.a.createElement(Ea,{title:function(e){return{fct:e.factoidAbbreviationFull+" Addresses",ec:e.ecAbbreviationFull+" Addresses"}}(c)[a],type:a,generatedAddressList:e.state.generatedAddressList,userAddressList:s,getNextFive:e.getNextFive,newAddress:i,values:m,errors:l,touched:o,setFieldValue:u,handleChange:d}),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("div",null,e.props.handleBack&&r.a.createElement(C.a,{onClick:e.props.handleBack},"Back"),r.a.createElement(C.a,{type:"submit",disabled:n,variant:"contained",color:"primary"},e.hasAddressSelected(m)?"Add and Continue":"Skip")))}})}}]),t}(r.a.Component),va=p()(_.b,Te,U.b,Object(h.withStyles)(function(e){return{errorText:{color:"red",fontSize:"12px"}}}))(ga),ya=function(e){function t(){return Object(i.a)(this,t),Object(s.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this,t=this.props.classes;return r.a.createElement(W.e,{initialValues:Object(L.a)({},"mnemonic",""),onSubmit:function(t,a){e.props.setMnemonic(yt()(t,"mnemonic").trim()),e.props.handleNext()},validationSchema:D.object().shape(Object(L.a)({},"mnemonic",D.string().trim().required("Required").test("mnemonic","Invalid Seed Phrase",Be.a.validMnemonic))),render:function(a){var n=a.isSubmitting,l=a.errors,o=a.touched;return r.a.createElement(W.d,Object(L.a)({style:{width:"500px"},autoComplete:"nope"},"autoComplete","off"),r.a.createElement(r.a.Fragment,null,r.a.createElement(xa,{error:!(!yt()(l,"mnemonic")||!yt()(o,"mnemonic")),name:"mnemonic",label:"Seed Phrase",placeholder:"Enter Seed Phrase",autoFocus:!0}),r.a.createElement(W.a,{name:"mnemonic",render:function(e){return r.a.createElement("span",{className:t.errorText},e)}})),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("div",null,r.a.createElement(C.a,{onClick:function(){e.props.setMnemonic(null),e.props.handleBack()}},"Back"),r.a.createElement(C.a,{type:"submit",disabled:n,variant:"contained",color:"primary"},"Next")))}})}}]),t}(r.a.Component),xa=function(e){return r.a.createElement(W.b,{name:e.name},function(t){var a=t.field;return r.a.createElement(V.a,Object.assign({inputProps:Object(L.a)({autoComplete:"nope"},"autoComplete","off")},a,{label:e.label+" "+(e.error?"*":""),margin:"dense",fullWidth:!0,error:e.error,autoFocus:e.autoFocus}))})},Ca=p()(U.b,Object(h.withStyles)(function(e){return{warningText:{color:"red",fontSize:"15px"},errorText:{color:"red"}}}))(ya),wa=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(s.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).state={mnemonic:null},a.setMnemonic=function(e){a.setState({mnemonic:e})},a}return Object(u.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){switch(this.props.activeStep){case 0:return r.a.createElement(Pt,{handleNext:this.props.handleNext,importType:this.props.importType,updateImportType:this.props.updateImportType});case 1:if("fct"===this.props.importType)return r.a.createElement(Dt,{handleNext:this.props.handleNext,handleBack:this.props.handleBack});if("ec"===this.props.importType)return r.a.createElement(Jt,{handleNext:this.props.handleNext,handleBack:this.props.handleBack});if("new"===this.props.importType)return r.a.createElement(Kt,{setMnemonic:this.setMnemonic,mnemonic:this.state.mnemonic,handleNext:this.props.handleNext,handleBack:this.props.handleBack});if("importSeed"===this.props.importType)return r.a.createElement(Ca,{setMnemonic:this.setMnemonic,handleNext:this.props.handleNext,handleBack:this.props.handleBack});if("ledger"===this.props.importType)return r.a.createElement(ba,{handleNext:this.props.handleNext,handleBack:this.props.handleBack,type:"fct",key:"fctLedgerForm"});break;case 2:if("new"===this.props.importType||"importSeed"===this.props.importType)return r.a.createElement(va,{mnemonic:this.state.mnemonic,handleNext:this.props.handleNext,type:"fct",key:"fctSeedForm"});break;case 3:if("new"===this.props.importType||"importSeed"===this.props.importType)return r.a.createElement(va,{mnemonic:this.state.mnemonic,handleNext:this.props.handleNext,handleBack:this.props.handleBack,type:"ec",key:"ecSeedForm"});break;default:return"Unknown step"}}}]),t}(r.a.Component),ka=a(50),Oa=a.n(ka),Sa=function(){return["Import Method","Address details"]},Aa=function(e){return["Import Method","Seed Value",e.factoidAbbreviationFull,e.ecAbbreviationFull]},ja={importSeed:Aa,new:Aa,ledger:function(e){return["Import Method",e.factoidAbbreviationFull]},fct:Sa,ec:Sa},Na=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(s.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).initialState={activeStep:0,importType:"fct",getSteps:Sa},a.state=a.initialState,a.updateImportType=function(e){a.setState({importType:e,getSteps:ja[e]})},a.handleNext=function(){a.setState(function(e){return{activeStep:e.activeStep+1}})},a.handleBack=function(){a.setState(function(e){return{activeStep:e.activeStep-1}})},a.handleReset=function(){a.setState(a.initialState)},a}return Object(u.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this.props,t=e.classes,a=e.handleCloseText,n=e.networkController.networkProps,l=e.walletController.isWalletEmpty,o=this.state.activeStep,i=this.state.getSteps(n),c="testnet"===n.network?"Add Testnet Address":"Add Address";return r.a.createElement(Q.a,{className:t.paper},r.a.createElement(J,{text:c,id:"modal-title"}),r.a.createElement(ht.a,{activeStep:o,className:t.stepper},i.map(function(e,t){return r.a.createElement(ft.a,Object.assign({key:e},{}),r.a.createElement(gt.a,{},e))})),r.a.createElement(r.a.Fragment,null,o===i.length?r.a.createElement(r.a.Fragment,null,r.a.createElement("br",null),"testnet"===n.network?r.a.createElement(Ta,{classes:t,isWalletEmpty:l()}):r.a.createElement(Fa,{classes:t,isWalletEmpty:l()}),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("div",null,l()?r.a.createElement(C.a,{variant:"outlined",onClick:this.handleReset},"Reset"):r.a.createElement(r.a.Fragment,null,r.a.createElement(C.a,{onClick:this.handleReset},"Add Another"),r.a.createElement(C.a,{onClick:this.props.handleClose,variant:"contained",color:"primary"},a)))):r.a.createElement(r.a.Fragment,null,r.a.createElement("br",null),r.a.createElement(wa,{activeStep:o,updateImportType:this.updateImportType,handleNext:this.handleNext,handleBack:this.handleBack,importType:this.state.importType}))))}}]),t}(r.a.Component),Fa=function(e){e.classes;return e.isWalletEmpty?r.a.createElement(y.a,{variant:"subtitle1",gutterBottom:!0},"No Addresses have been added."):r.a.createElement(y.a,{variant:"subtitle1",gutterBottom:!0},"You have finished adding an address.")},Ta=function(e){var t=e.classes;return e.isWalletEmpty?r.a.createElement(y.a,{variant:"subtitle1",gutterBottom:!0},"No Addresses have been added."):r.a.createElement(r.a.Fragment,null,r.a.createElement(y.a,{variant:"subtitle1",gutterBottom:!0},"You have finished adding a Testnet address."),r.a.createElement(Q.a,{className:t.testnetWarning},r.a.createElement(y.a,{className:t.warningText},r.a.createElement(Ze.a,{className:t.warningIcon}),"\xa0\xa0Use these addresses for Testnet ONLY. Do not send real Factoids to these addresses, or you run the risk of losing them. Please read all notices.",r.a.createElement("br",null),r.a.createElement("br",null),"You can use the"," ",r.a.createElement("a",{target:"_blank",rel:"noopener noreferrer",href:"https://faucet.factoid.org/"},"Factom Testnet Faucet"," ",r.a.createElement(Oa.a,{color:"primary",style:{fontSize:15}}))," ","to receive Testoids.")))},Pa=p()(_.b,U.b,Object(h.withStyles)(function(e){return{stepper:{backgroundColor:"#eeeeee"},paper:{minWidth:565,padding:4*e.spacing.unit,minHeight:300},testnetWarning:{borderColor:"#ffa000",borderStyle:"solid",padding:5,width:415},warningIcon:{color:"#ffa000",display:"inline",position:"relative",top:"6px"},warningText:{display:"inline"}}}))(Na),Ba=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(s.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).state={open:!1},a.handleOpen=function(){a.setState({open:!0})},a.handleClose=function(){a.setState({open:!1})},a}return Object(u.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this.props.classes;return r.a.createElement("div",{className:e.center},r.a.createElement(C.a,{onClick:this.handleOpen,className:e.button,variant:"outlined",color:"primary"},"Add Address"),r.a.createElement(G.a,{"aria-labelledby":"modal-title",open:this.state.open,onClose:this.handleClose},r.a.createElement("div",{className:e.modalContent},r.a.createElement(Pa,{handleClose:this.handleClose,handleCloseText:"Exit"}))))}}]),t}(r.a.Component),Ia=Object(h.withStyles)(function(e){return{modalContent:{position:"absolute",boxShadow:e.shadows[5],top:"50%",left:"50%",transform:"translate(-50%, -50%)",minWidth:"490px"},button:{width:"275px;",height:"50px",marginBottom:"15px"},center:{margin:"0 auto"}}})(Ba),Ra=a(147),La=a.n(Ra),Wa=a(148),Da=a.n(Wa),Ma=a(1),Va=a.n(Ma),Ja=function(e){function t(){return Object(i.a)(this,t),Object(s.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this.props,t=e.classes,a=e.walletController,n=a.getEntryCreditAddresses,l=a.getFactoidAddresses,o=a.activeAddressIndex_o,i=a.selectAddress,c=a.updateBalances,s=e.networkController.networkProps,m=n(),u=l(),d=u.map(function(e,a){var n=o.index===a&&"fct"===o.type,l=n?{fontWeight:500}:{};return r.a.createElement(La.a,{key:a,expanded:n,onClick:Object(me.a)(se.a.mark(function e(){return se.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i(a,"fct");case 2:c();case 3:case"end":return e.stop()}},e,this)})),className:n?t.expanded:""},r.a.createElement(Da.a,null,r.a.createElement(Va.a,{container:!0,justify:"space-between"},r.a.createElement(Va.a,{item:!0},r.a.createElement(y.a,{className:t.break,style:l},e.nickname)),!ve()(e.balance)&&r.a.createElement(Va.a,{item:!0},r.a.createElement(y.a,{className:t.break},r.a.createElement(ca,{balance:e.balance,type:"fct"}))))))}),p=m.map(function(e,a){var n=o.index===a&&"ec"===o.type,l=n?{fontWeight:500}:{};return r.a.createElement(La.a,{key:a,expanded:n,onClick:Object(me.a)(se.a.mark(function e(){return se.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i(a,"ec");case 2:c();case 3:case"end":return e.stop()}},e,this)})),className:n?t.expanded:""},r.a.createElement(Da.a,null,r.a.createElement(Va.a,{container:!0,item:!0,xs:12,justify:"space-between"},r.a.createElement(Va.a,{item:!0},r.a.createElement(y.a,{className:t.break,style:l},e.nickname)),!ve()(e.balance)&&r.a.createElement(Va.a,{item:!0},r.a.createElement(y.a,{className:t.break},r.a.createElement(ca,{balance:e.balance,type:"ec"}))))))});return r.a.createElement(r.a.Fragment,null,!Ee()(u)&&r.a.createElement(Q.a,{className:t.noPadding},r.a.createElement(mt.a,{className:t.addressList},r.a.createElement(dt.a,{className:t.walletListHeader},r.a.createElement(y.a,{className:t.addressHeading,variant:"subtitle1"},s.factoidAbbreviationFull+" Addresses")),r.a.createElement(dt.a,{disableGutters:!0,className:t.walletList},r.a.createElement("div",{className:t.listAddrRoot},d)))),!Ee()(m)&&r.a.createElement(r.a.Fragment,null,!Ee()(u)&&r.a.createElement("br",null),r.a.createElement(Q.a,{className:t.noPadding},r.a.createElement(mt.a,{className:t.addressList},r.a.createElement(dt.a,{className:t.walletListHeader},r.a.createElement(y.a,{className:t.addressHeading,variant:"subtitle1"},s.ecAbbreviationFull+" Addresses")),r.a.createElement(dt.a,{disableGutters:!0,className:t.walletList},r.a.createElement("div",{className:t.listAddrRoot},p))))),r.a.createElement("br",null),r.a.createElement("div",{className:t.flex},r.a.createElement("br",null),r.a.createElement(Ia,null)))}}]),t}(n.Component),Ha=p()(_.b,U.b,Object(h.withStyles)(function(e){return{noPadding:{padding:"0px"},break:{wordWrap:"break-word"},expanded:{backgroundColor:"aliceblue"},listAddrRoot:{width:"100%",position:"relative",overflow:"auto",maxHeight:270},addressHeading:{fontWeight:500},flex:{display:"flex"},walletList:{padding:"6px"},walletListHeader:{paddingTop:"5px",paddingBottom:"5px"},addressList:{paddingBottom:"0px",backgroundColor:"#ddd",borderRadius:"4px"}}}))(Ja),qa=a(98),Ka=a.n(qa),za=a(64),Ga=a.n(za),Ua=a(196),_a=a.n(Ua),Ya=a(390),Qa=a.n(Ya),Xa=a(48),Za=a.n(Xa),$a=a(389),en=p()(U.b,zt.b,Object(h.withStyles)(function(e){return{root:{textAlign:"left"},paper:{backgroundColor:"aliceblue",padding:"16px",marginBottom:"3px"},pointer:{cursor:"pointer"}}}))(function(e){var t=e.classes,a=e.walletController,n=a.getActiveAddress,l=a.activeAddressIndex_o,o=e.ledgerController.checkAddress,i=n();return r.a.createElement("div",{className:t.root},r.a.createElement(Q.a,{elevation:2,className:t.paper},r.a.createElement(Va.a,{container:!0,justify:"space-between"},r.a.createElement(Va.a,{item:!0},r.a.createElement(y.a,null,r.a.createElement("i",null,"Nickname:"),"\xa0\xa0\xa0\xa0\xa0\xa0",i.nickname),r.a.createElement(y.a,null,r.a.createElement("i",null,"Address:"),"\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0",i.address,"\xa0",r.a.createElement($a.CopyToClipboard,{text:i.address},r.a.createElement(la.a,{title:"Copy",className:t.pointer},r.a.createElement(Za.a,{fontSize:"inherit",color:"primary"},r.a.createElement("path",{d:"M16 1H4c-1.1 0-2 .9-2 2v14h2V3h12V1zm3 4H8c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h11c1.1 0 2-.9 2-2V7c0-1.1-.9-2-2-2zm0 16H8V7h11v14z"}))))),"ledger"===i.importType&&r.a.createElement(y.a,null,r.a.createElement("i",null,"Import Type:"),"\xa0\xa0\xa0Ledger Nano S"),"seed"===i.importType&&r.a.createElement(y.a,null,r.a.createElement("i",null,"Import Type:"),"\xa0\xa0\xa0Seed Phrase"),"standard"===i.importType&&r.a.createElement(y.a,null,r.a.createElement("i",null,"Import Type:"),"\xa0\xa0\xa0Public Address"),!ve()(i.balance)&&r.a.createElement(y.a,null,r.a.createElement("i",null,"Balance:"),"\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0",r.a.createElement(ca,{balance:i.balance,type:l.type}))),r.a.createElement(Va.a,{item:!0},"ledger"===i.importType&&r.a.createElement(la.a,{title:"Verify Ledger Nano S Address",className:t.pointer},r.a.createElement(Qa.a,{onClick:Object(me.a)(se.a.mark(function e(){return se.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o(i,l.type);case 2:case"end":return e.stop()}},e,this)}))}))))))}),tn=p()(Object(h.withStyles)({root:{width:"75%",margin:"0 auto",paddingTop:"26px",marginTop:"39px",height:"194px",borderRadius:"10px",backgroundColor:"#eef1f4",textAlign:"center"},transferFactoidAmountText:{fontSize:"50px",color:"#007eff"},transferFactoidUnitText:{width:"55px",height:"24px",fontSize:"20px",color:"#007eff"},factoidAmountSmallText:{color:"#001830",paddingTop:"7px"},detail:{display:"inline-block",paddingLeft:"65px",paddingRight:"65px"},divider:{width:"50%",opacity:.15,border:"solid 1px #103152"}}))(function(e){var t=e.factoidAmount,a=e.classes,n=e.networkProps,l=e.sendFactoidFee,o=t+l,i=t.toLocaleString(void 0,{maximumFractionDigits:8}),c=o.toLocaleString(void 0,{maximumFractionDigits:8})+" "+n.factoidAbbreviation,s=l.toLocaleString(void 0,{maximumFractionDigits:8})+" "+n.factoidAbbreviation;return r.a.createElement(Q.a,{className:a.root,elevation:2},r.a.createElement("div",null,"Transaction Preview"),r.a.createElement("br",null),r.a.createElement("span",{className:a.transferFactoidAmountText},i),r.a.createElement("span",{className:a.transferFactoidUnitText}," "+n.factoidAbbreviation),r.a.createElement("hr",{className:a.divider}),r.a.createElement("div",{className:a.detail},r.a.createElement("div",null,"Total Amount:"),r.a.createElement("div",{className:a.factoidAmountSmallText},c)),r.a.createElement("div",{className:a.detail},r.a.createElement("div",null,"Network Fee:"),r.a.createElement("div",{className:a.factoidAmountSmallText},s)))}),an="recipientAddress",nn="myFctWalletAnchorEl",rn=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(s.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).state={sendFactoidFee:null},a.verifyKey=function(e){var t=a.props.walletController.getActiveAddress();return a.props.walletController.verifyKey(e,t)},a.verifySeed=function(e){var t=a.props.walletController.getActiveAddress();return a.props.seedController.verifySeed(e,t)},a}return Object(u.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){var e=Object(me.a)(se.a.mark(function e(){var t;return se.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.props.walletController.getFactoidFee();case 2:t=e.sent,this.setState({sendFactoidFee:t});case 4:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"getMaxFCT",value:function(e,t){var a=1e-8*e-t;return a<0?0:a}},{key:"render",value:function(){var e,t,a=this,n=this.props,l=n.classes,o=n.factomCliController.factomCli,i=n.walletController,c=i.getFactoidAddresses,s=i.getActiveAddress,m=i.updateBalances,u=i.activeAddressIndex_o,d=i.addAddressTransaction,p=n.ledgerController.signWithLedger,h=n.networkController.networkProps,E=n.seedController.signWithSeed,f=c(),b=s(),g=this.getMaxFCT(b.balance,this.state.sendFactoidFee);return r.a.createElement(W.e,{enableReinitialize:!0,initialValues:(e={sendFactoidAmount:"",recipientAddress:"",myFctWalletAnchorEl:null},Object(L.a)(e,"privateKey",""),Object(L.a)(e,"seed",""),Object(L.a)(e,"walletImportType",b.importType),Object(L.a)(e,"transactionID",null),Object(L.a)(e,"ledgerStatus",null),Object(L.a)(e,"transactionError",null),Object(L.a)(e,"addressToReinitialize",b.address),e),onSubmit:function(){var e=Object(me.a)(se.a.mark(function e(t,n){var r,l,i,c,s,h,f,g,v,y,x,C,w,k,O,S,A;return se.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.sendFactoidAmount,l=t.recipientAddress,i=t.privateKey,c=t.seed,s={},h=yt()(t,"walletImportType"),e.prev=3,"standard"!==h){e.next=10;break}return e.next=7,o.createFactoidTransaction(i,l,Math.round(1e8*r));case 7:s=e.sent,e.next=36;break;case 10:if("seed"!==h){e.next=22;break}return f=c.trim(),g=b.index,v=l,y=Math.round(1e8*r),"sendFCT",x={mnemonic:f,index:g,toAddr:v,amount:y,type:"sendFCT"},e.next=19,E(x);case 19:s=e.sent,e.next=36;break;case 22:if("ledger"!==h){e.next=36;break}return n.setFieldValue("ledgerStatus","Connecting to Ledger Nano S"),e.next=26,a.props.ledgerController.isLedgerConnected();case 26:return e.sent?n.setFieldValue("ledgerStatus","Waiting 30s for Confirmation"):(n.resetForm(),n.setFieldValue("transactionError","Ledger Nano S Not Found. Please connect your Ledger Nano S and try again.")),C=b.address,w=l,k=Math.round(1e8*r),O=b.index,S={fromAddr:C,toAddr:w,amount:k,index:O},e.next=35,p(S);case 35:s=e.sent;case 36:return e.next=38,o.sendTransaction(s);case 38:return A=e.sent,e.next=41,d(u,A);case 41:n.setFieldValue("transactionID",A),m(),e.next=50;break;case 45:e.prev=45,e.t0=e.catch(3),console.log(e.t0),n.resetForm(),n.setFieldValue("transactionError","An error occured. Please try again.");case 50:case"end":return e.stop()}},e,this,[[3,45]])}));return function(t,a){return e.apply(this,arguments)}}(),validationSchema:D.object().shape((t={},Object(L.a)(t,an,D.string().required("Required").test(an,"Invalid Address",ke.isValidFctPublicAddress)),Object(L.a)(t,"sendFactoidAmount",D.number().required("Required").positive("Must be a positive number").max(g,"Insufficient Funds")),Object(L.a)(t,"walletImportType",D.string()),Object(L.a)(t,"privateKey",D.string().when("walletImportType",{is:"standard",then:D.string().required("Required").test("privateKey","Invalid Key",this.verifyKey),otherwise:D.string().notRequired()})),Object(L.a)(t,"seed",D.string().when("walletImportType",{is:"seed",then:D.string().trim().required("Required").test("seed","Invalid Seed Phrase",this.verifySeed),otherwise:D.string().notRequired()})),t)),render:function(e){var t=e.isSubmitting,n=e.errors,o=e.touched,i=e.values,c=e.setFieldValue,s=e.handleReset,m=e.handleChange;return r.a.createElement(W.d,Object(L.a)({autoComplete:"nope"},"autoComplete","off"),r.a.createElement(en,null),r.a.createElement(W.b,{name:an},function(e){var a=e.field;e.form;return r.a.createElement(V.a,Object.assign({error:!(!n[an]||!o[an])},a,{onChange:function(e){m(e),c("transactionError",null)},label:"Recipient "+h.factoidAbbreviation+" address",fullWidth:!0,type:"text",placeholder:"Enter "+h.factoidAbbreviationFull+" Address",disabled:t,inputProps:Object(L.a)({spellCheck:!1,maxLength:52,autoComplete:"nope"},"autoComplete","off")}))}),r.a.createElement(Va.a,{container:!0,justify:"space-between"},r.a.createElement(Va.a,{item:!0},r.a.createElement(W.a,{name:an,render:function(e){return r.a.createElement("div",{className:l.errorText},e)}})),r.a.createElement(Va.a,{item:!0},r.a.createElement(ln,{values:i,setFieldValue:c,factoidAddresses:f}),r.a.createElement(y.a,{variant:"caption","aria-owns":i[nn]?"simple-menu":null,"aria-haspopup":"true",onClick:function(e){t||(c("transactionError",null),c(nn,e.currentTarget))},className:l.pointer},"Send to one of my addresses"))),r.a.createElement(W.b,{name:"sendFactoidAmount"},function(e){var a=e.field;e.form;return r.a.createElement(V.a,Object.assign({type:"number",error:!(!n.sendFactoidAmount||!o.sendFactoidAmount)},a,{placeholder:"Enter Amount ("+h.factoidAbbreviation+")",label:"Amount",fullWidth:!0,disabled:t}))}),r.a.createElement(Va.a,{container:!0,justify:"space-between"},r.a.createElement(Va.a,{item:!0},r.a.createElement(W.a,{name:"sendFactoidAmount",render:function(e){return r.a.createElement("div",{className:l.errorText},e)}})),r.a.createElement(Va.a,{item:!0},r.a.createElement(y.a,{variant:"caption",onClick:function(){t||c("sendFactoidAmount",g)},className:l.pointer},"Use Max"))),"standard"===yt()(i,"walletImportType")&&r.a.createElement(r.a.Fragment,null,r.a.createElement(W.b,{name:"privateKey"},function(e){var a=e.field;e.form;return r.a.createElement(V.a,Object.assign({error:!(!n.privateKey||!o.privateKey)},a,{placeholder:"Enter Private Key for "+b.nickname,label:"Private Key",fullWidth:!0,disabled:t,inputProps:Object(L.a)({spellCheck:!1,maxLength:52,autoComplete:"nope"},"autoComplete","off")}))}),r.a.createElement(W.a,{name:"privateKey",render:function(e){return r.a.createElement("div",{className:l.errorText},e)}})),"seed"===yt()(i,"walletImportType")&&r.a.createElement(r.a.Fragment,null,r.a.createElement(W.b,{name:"seed"},function(e){var a=e.field;e.form;return r.a.createElement(V.a,Object.assign({inputProps:Object(L.a)({autoComplete:"nope"},"autoComplete","off"),error:!(!yt()(n,"seed")||!yt()(o,"seed"))},a,{placeholder:"Enter Seed Phrase for "+b.nickname,label:"Seed Phrase",fullWidth:!0,disabled:t}))}),r.a.createElement(W.a,{name:"seed",render:function(e){return r.a.createElement("div",{className:l.errorText},e)}})),i.sendFactoidAmount?r.a.createElement(tn,{networkProps:h,factoidAmount:i.sendFactoidAmount,sendFactoidFee:a.state.sendFactoidFee}):"",r.a.createElement("br",null),!ve()(i.transactionError)&&r.a.createElement(y.a,{className:l.transactionErrorText},i.transactionError),r.a.createElement("br",null),t?r.a.createElement(r.a.Fragment,null,null!==i.transactionID?r.a.createElement("div",null,r.a.createElement(Q.a,{className:l.transaction},r.a.createElement(_a.a,{nativeColor:"#6fbf73",className:l.successIcon}),"\xa0",r.a.createElement(y.a,{gutterBottom:!0,style:{display:"inline"}},r.a.createElement("b",null,"Transaction ID:")," ",i.transactionID),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement(y.a,null,"This transaction will be visible"," ",r.a.createElement(la.a,{title:"Open Factom Explorer"},r.a.createElement("a",{target:"_blank",rel:"noopener noreferrer",href:h.explorerURL+"/transaction?txid="+i.transactionID},"here"," ",r.a.createElement(Oa.a,{color:"primary",style:{fontSize:15}})))," ","in 10-15 minutes, after being included in the next Factom block currently being processed by the blockchain. Funds are available for use immediately.",r.a.createElement("br",null))),r.a.createElement("br",null),r.a.createElement(C.a,{type:"button",className:"outline",color:"primary",variant:"contained",onClick:s},"New Transaction")):r.a.createElement(r.a.Fragment,null,r.a.createElement(da.a,{thickness:7}),i.ledgerStatus)):r.a.createElement(C.a,{className:l.sendButton,variant:"contained",color:"primary",type:"submit",disabled:t},"Send "+h.factoidAbbreviationFull+"s"),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement(y.a,null,"Please verify all details are correct before hitting send.",r.a.createElement("br",null),"Nobody can reverse mistaken transactions."))}})}}]),t}(n.Component);function ln(e){var t=e.values,a=e.setFieldValue,n=e.factoidAddresses.map(function(e,t){return r.a.createElement(T.a,{key:t,onClick:function(){a(nn,null),a(an,e.address)}},e.nickname)});return r.a.createElement(N.a,{id:"simple-menu",anchorEl:t[nn],open:Boolean(t[nn]),onClose:function(){a(nn,null)}},n)}var on=p()(_.b,zt.b,Te,U.b,we,Object(h.withStyles)({sendButton:{width:"50%",height:"24px"},errorText:{color:"red",fontSize:"12px",textAlign:"left"},transactionErrorText:{color:"red",fontSize:"16px"},pointer:{cursor:"pointer"},transaction:{borderColor:"#6fbf73",borderStyle:"solid",paddingTop:3,paddingBottom:8},successIcon:{position:"relative",top:"5px"}}))(rn),cn=p()(Object(h.withStyles)({root:{width:"75%",margin:"0 auto",paddingTop:"26px",marginTop:"39px",height:"194px",borderRadius:"10px",backgroundColor:"#eef1f4",textAlign:"center"},convertECAmountText:{fontSize:"50px",color:"#007eff"},ecUnitText:{width:"55px",height:"24px",fontSize:"20px",color:"#007eff"},factoidCostSmallText:{color:"#001830",paddingTop:"7px"},detail:{display:"inline-block",paddingLeft:"65px",paddingRight:"65px"},divider:{width:"50%",opacity:.15,border:"solid 1px #103152"}}))(function(e){var t=e.ecAmount,a=e.factoidAmount,n=e.classes,l=e.networkProps,o=e.sendFactoidFee,i=a+o,c=t.toLocaleString(void 0,{maximumFractionDigits:8}),s=i.toLocaleString(void 0,{maximumFractionDigits:8})+" "+l.factoidAbbreviation,m=o.toLocaleString(void 0,{maximumFractionDigits:8})+" "+l.factoidAbbreviation;return r.a.createElement(Q.a,{className:n.root,elevation:2},r.a.createElement("div",null,"Transaction Preview"),r.a.createElement("br",null),r.a.createElement("span",{className:n.convertECAmountText},c),r.a.createElement("span",{className:n.ecUnitText}," "+l.ecAbbreviation),r.a.createElement("hr",{className:n.divider}),r.a.createElement("div",{className:n.detail},r.a.createElement("div",null,"Total Cost:"),r.a.createElement("div",{className:n.factoidCostSmallText},s)),r.a.createElement("div",{className:n.detail},r.a.createElement("div",null,"Network Fee:"),r.a.createElement("div",{className:n.factoidCostSmallText},m)))}),sn="recipientAddress",mn="myFctWalletAnchorEl",un=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(s.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).state={sendFactoshiFee:null,ecRate:null},a.verifyKey=function(e){var t=a.props.walletController.getActiveAddress();return a.props.walletController.verifyKey(e,t)},a.verifySeed=function(e){var t=a.props.walletController.getActiveAddress();return a.props.seedController.verifySeed(e,t)},a}return Object(u.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){var e=Object(me.a)(se.a.mark(function e(){var t,a;return se.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.props.walletController.getFactoshiFee();case 2:return t=e.sent,e.next=5,this.props.walletController.getEntryCreditRate();case 5:a=e.sent,this.setState({sendFactoshiFee:t,ecRate:a});case 7:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"getMaxEC",value:function(e,t){var a=(e-t)/this.state.ecRate;return a<0?0:a}},{key:"render",value:function(){var e,t,a=this,n=this.props,l=n.classes,o=n.walletController,i=o.updateBalances,c=o.getEntryCreditAddresses,s=o.getActiveAddress,m=o.activeAddressIndex_o,u=o.addAddressTransaction,d=n.ledgerController.signWithLedger,p=n.factomCliController.factomCli,h=n.networkController.networkProps,E=n.seedController.signWithSeed,f=s(),b=c(),g=this.getMaxEC(f.balance,this.state.sendFactoshiFee);return r.a.createElement(W.e,{enableReinitialize:!0,initialValues:(e={entryCreditAmount:"",recipientAddress:""},Object(L.a)(e,mn,null),Object(L.a)(e,"privateKey",""),Object(L.a)(e,"seed",""),Object(L.a)(e,"walletImportType",f.importType),Object(L.a)(e,"transactionID",null),Object(L.a)(e,"ledgerStatus",null),Object(L.a)(e,"transactionError",null),Object(L.a)(e,"addressToReinitialize",f.address),e),onSubmit:function(){var e=Object(me.a)(se.a.mark(function e(t,n){var r,l,o,c,s,h,b,g,v,y,x,C,w,k,O;return se.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.entryCreditAmount,l=t.recipientAddress,o=t.privateKey,c=t.seed,s={},h=yt()(t,"walletImportType"),e.prev=3,"standard"!==h){e.next=10;break}return e.next=7,p.createEntryCreditPurchaseTransaction(o,l,r);case 7:s=e.sent,e.next=36;break;case 10:if("seed"!==h){e.next=22;break}return b=c.trim(),g=f.index,"convertFCT",v={mnemonic:b,index:g,toAddr:l,amount:r,type:"convertFCT"},e.next=19,E(v);case 19:s=e.sent,e.next=36;break;case 22:if("ledger"!==h){e.next=36;break}return n.setFieldValue("ledgerStatus","Connecting to Ledger Nano S"),e.next=26,a.props.ledgerController.isLedgerConnected();case 26:return e.sent?n.setFieldValue("ledgerStatus","Waiting 30s for Confirmation"):(n.resetForm(),n.setFieldValue("transactionError","Ledger Nano S Not Found. Please connect your Ledger Nano S and try again.")),y=f.address,x=l,C=Math.round(a.state.ecRate*r),w=f.index,k={fromAddr:y,toAddr:x,amount:C,index:w},e.next=35,d(k);case 35:s=e.sent;case 36:return e.next=38,p.sendTransaction(s);case 38:return O=e.sent,e.next=41,u(m,O);case 41:n.setFieldValue("transactionID",O),i(),e.next=50;break;case 45:e.prev=45,e.t0=e.catch(3),console.log(e.t0),n.resetForm(),n.setFieldValue("transactionError","An error occured. Please try again.");case 50:case"end":return e.stop()}},e,this,[[3,45]])}));return function(t,a){return e.apply(this,arguments)}}(),validationSchema:D.object().shape((t={},Object(L.a)(t,sn,D.string().required("Required").test(sn,"Invalid Address",ke.isValidEcPublicAddress)),Object(L.a)(t,"entryCreditAmount",D.number().required("Required").positive("Must be a positive number").max(g,"Insufficient Funds")),Object(L.a)(t,"walletImportType",D.string()),Object(L.a)(t,"privateKey",D.string().when("walletImportType",{is:"standard",then:D.string().required("Required").test("privateKey","Invalid Key",this.verifyKey),otherwise:D.string().notRequired()})),Object(L.a)(t,"seed",D.string().when("walletImportType",{is:"seed",then:D.string().trim().required("Required").test("seed","Invalid Seed Phrase",this.verifySeed),otherwise:D.string().notRequired()})),t)),render:function(e){var t=e.isSubmitting,n=e.errors,o=e.touched,i=e.values,c=e.setFieldValue,s=e.handleReset,m=e.handleChange;return r.a.createElement(W.d,Object(L.a)({autoComplete:"nope"},"autoComplete","off"),r.a.createElement(en,null),r.a.createElement(W.b,{name:sn},function(e){var a=e.field;e.form;return r.a.createElement(V.a,Object.assign({error:!(!n[sn]||!o[sn])},a,{onChange:function(e){m(e),c("transactionError",null)},label:"Recipient "+h.ecAbbreviation+" address",fullWidth:!0,type:"text",placeholder:"Enter "+h.ecAbbreviationFull+" address",disabled:t,inputProps:Object(L.a)({spellCheck:!1,maxLength:52,autoComplete:"nope"},"autoComplete","off")}))}),r.a.createElement(Va.a,{container:!0,justify:"space-between"},r.a.createElement(Va.a,{item:!0},r.a.createElement(W.a,{name:sn,render:function(e){return r.a.createElement("div",{className:l.errorText},e)}})),!Ee()(b)&&r.a.createElement(Va.a,{item:!0},r.a.createElement(dn,{values:i,setFieldValue:c,ecAddresses:b}),r.a.createElement(y.a,{variant:"caption","aria-owns":i[mn]?"simple-menu":null,"aria-haspopup":"true",onClick:function(e){t||(c("transactionError",null),c(mn,e.currentTarget))},className:l.pointer},"Send to one of my addresses"))),r.a.createElement(W.b,{name:"entryCreditAmount"},function(e){var a=e.field;e.form;return r.a.createElement(V.a,Object.assign({type:"number",error:!(!n.entryCreditAmount||!o.entryCreditAmount)},a,{placeholder:"Enter Amount ("+h.ecAbbreviation+")",label:"Amount",fullWidth:!0,disabled:t}))}),r.a.createElement(Va.a,{container:!0,justify:"space-between"},r.a.createElement(Va.a,{item:!0},r.a.createElement(W.a,{name:"entryCreditAmount",render:function(e){return r.a.createElement("div",{className:l.errorText},e)}})),r.a.createElement(Va.a,{item:!0},r.a.createElement("br",null))),"standard"===yt()(i,"walletImportType")&&r.a.createElement(r.a.Fragment,null,r.a.createElement(W.b,{name:"privateKey"},function(e){var a=e.field;e.form;return r.a.createElement(V.a,Object.assign({error:!(!n.privateKey||!o.privateKey)},a,{placeholder:"Enter Private Key for "+f.nickname,label:"Private Key",fullWidth:!0,disabled:t,inputProps:Object(L.a)({spellCheck:!1,maxLength:52,autoComplete:"nope"},"autoComplete","off")}))}),r.a.createElement(W.a,{name:"privateKey",render:function(e){return r.a.createElement("div",{className:l.errorText},e)}})),"seed"===yt()(i,"walletImportType")&&r.a.createElement(r.a.Fragment,null,r.a.createElement(W.b,{name:"seed"},function(e){var a=e.field;e.form;return r.a.createElement(V.a,Object.assign({error:!(!yt()(n,"seed")||!yt()(o,"seed"))},a,{placeholder:"Enter Seed Phrase for "+f.nickname,label:"Seed Phrase",fullWidth:!0,disabled:t,inputProps:Object(L.a)({autoComplete:"nope"},"autoComplete","off")}))}),r.a.createElement(W.a,{name:"seed",render:function(e){return r.a.createElement("div",{className:l.errorText},e)}})),yt()(i,"entryCreditAmount")?r.a.createElement(cn,{networkProps:h,ecAmount:yt()(i,"entryCreditAmount"),factoidAmount:a.state.ecRate*yt()(i,"entryCreditAmount")*1e-8,sendFactoidFee:1e-8*a.state.sendFactoshiFee}):"",r.a.createElement("br",null),!ve()(i.transactionError)&&r.a.createElement(y.a,{className:l.transactionErrorText},i.transactionError),r.a.createElement("br",null),t?r.a.createElement(r.a.Fragment,null,null!==i.transactionID?r.a.createElement("div",null,r.a.createElement(Q.a,{className:l.transaction},r.a.createElement(_a.a,{nativeColor:"#6fbf73",className:l.successIcon}),"\xa0",r.a.createElement(y.a,{style:{display:"inline"}},r.a.createElement("b",null,"Transaction ID:")," ",i.transactionID),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement(y.a,null,"This transaction will be visible"," ",r.a.createElement(la.a,{title:"Open Factom Explorer"},r.a.createElement("a",{target:"_blank",rel:"noopener noreferrer",href:h.explorerURL+"/transaction?txid="+i.transactionID},"here"," ",r.a.createElement(Oa.a,{color:"primary",style:{fontSize:15}})))," ","in 10-15 minutes, after being included in the next Factom block currently being processed by the blockchain. Funds are available for use immediately.",r.a.createElement("br",null))),r.a.createElement("br",null),r.a.createElement(C.a,{type:"button",className:"outline",color:"primary",variant:"contained",onClick:s},"New Transaction")):r.a.createElement(r.a.Fragment,null,r.a.createElement(da.a,{thickness:7}),i.ledgerStatus)):r.a.createElement(C.a,{className:l.sendButton,variant:"contained",color:"primary",type:"submit",disabled:t},"Convert "+h.factoidAbbreviation+" to "+h.ecAbbreviation),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement(y.a,null,"Please verify all details are correct before hitting send.",r.a.createElement("br",null),"Nobody can reverse mistaken transactions."))}})}}]),t}(n.Component);function dn(e){var t=e.values,a=e.setFieldValue,n=e.ecAddresses.map(function(e,t){return r.a.createElement(T.a,{key:t,onClick:function(){a(mn,null),a(sn,e.address)}},e.nickname)});return r.a.createElement(N.a,{id:"simple-menu",anchorEl:t[mn],open:Boolean(t[mn]),onClose:function(){a(mn,null)}},n)}var pn=p()(_.b,zt.b,Te,U.b,we,Object(h.withStyles)({sendButton:{width:"50%",height:"24px"},errorText:{color:"red",fontSize:"12px",textAlign:"left"},pointer:{cursor:"pointer"},transactionErrorText:{color:"red",fontSize:"16px"},transaction:{borderColor:"#6fbf73",borderStyle:"solid",paddingTop:3,paddingBottom:8},successIcon:{position:"relative",top:"5px"}}))(un),hn=a(391),En=a.n(hn),fn=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(s.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).verifySeed=function(e){var t=a.props.walletController.getActiveAddress();return a.props.seedController.verifySeed(e,t)},a}return Object(u.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e,t=this.props,a=t.classes,n=t.walletController.getActiveAddress,l=t.seedController.getPrivateKey,o=n();return r.a.createElement(W.e,{enableReinitialize:!0,initialValues:(e={},Object(L.a)(e,"privateKey",""),Object(L.a)(e,"seed",""),Object(L.a)(e,"showPassword;",!1),Object(L.a)(e,"addressToReinitialize",o.address),e),onSubmit:function(){var e=Object(me.a)(se.a.mark(function e(t,a){var n,r,i;return se.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:n=t.seed;try{r=n.trim(),i=l(r,o.index),a.setFieldValue("privateKey",i)}catch(c){console.log(c)}case 2:case"end":return e.stop()}},e,this)}));return function(t,a){return e.apply(this,arguments)}}(),validationSchema:D.object().shape(Object(L.a)({},"seed",D.string().trim().required("Required").test("seed","Invalid Seed Phrase",this.verifySeed))),render:function(e){var t=e.isSubmitting,n=e.errors,l=e.touched,i=e.values,c=e.setFieldValue;return r.a.createElement(W.d,Object(L.a)({autoComplete:"nope"},"autoComplete","off"),r.a.createElement(en,null),Ee()(yt()(i,"privateKey"))&&r.a.createElement(bn,{name:"seed",fullWidth:!0,label:"Seed Phrase",type:"text",placeholder:"Enter Seed Phrase for "+o.nickname,error:yt()(n,"seed")&&yt()(l,"seed"),errorClass:a.errorText,disabled:t}),r.a.createElement("br",null),!Ee()(yt()(i,"privateKey"))&&r.a.createElement(r.a.Fragment,null,r.a.createElement("br",null),r.a.createElement(y.a,{variant:"subtitle2",style:{fontSize:15}},"Private Key:\xa0",yt()(i,"privateKey")&&r.a.createElement(r.a.Fragment,null,yt()(i,"showPassword;")?yt()(i,"privateKey"):r.a.createElement(r.a.Fragment,null,"...",r.a.createElement(la.a,{title:"Display Private Key"},r.a.createElement(k.a,{onClick:function(){c("showPassword;",!0)}},r.a.createElement(En.a,{color:"secondary",style:{fontSize:35}}))))))),r.a.createElement("br",null),t?r.a.createElement(r.a.Fragment,null):r.a.createElement(C.a,{className:a.sendButton,variant:"contained",color:"primary",type:"submit",disabled:t},"Submit"))}})}}]),t}(n.Component),bn=function(e){return r.a.createElement(r.a.Fragment,null,r.a.createElement(W.b,{name:e.name},function(t){var a=t.field;return r.a.createElement(V.a,Object.assign({style:{width:e.width},required:e.required,disabled:e.disabled,placeholder:e.placeholder},a,{type:e.type,inputProps:Object(L.a)({spellCheck:e.enableSpellCheck,maxLength:e.maxLength,autoComplete:"nope"},"autoComplete","off"),error:e.error,label:e.label,fullWidth:e.fullWidth,multiline:e.multiline}))}),r.a.createElement(W.a,{name:e.name,render:function(t){return r.a.createElement("div",{className:e.errorClass},t)}}))},gn=p()(Te,U.b,Object(h.withStyles)({sendButton:{width:"50%",height:"24px"},errorText:{color:"red",fontSize:"12px",textAlign:"left"}}))(fn),vn=function(e){function t(){return Object(i.a)(this,t),Object(s.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e,t=this.props,a=t.classes,n=t.walletController,l=n.getActiveAddress,o=n.getFactoidAddresses,i=n.getEntryCreditAddresses,c=n.activeAddressIndex_o,s=n.updateAddress,m=n.deleteAddress,u=l(),d=[];"fct"===c.type?d=o():"ec"===c.type&&(d=i());var p=d.filter(function(e){return e.address!==u.address}).map(function(e){return e.nickname});return r.a.createElement(W.e,{enableReinitialize:!0,initialValues:(e={},Object(L.a)(e,"saveLocally",u.saveLocally),Object(L.a)(e,"nickname",u.nickname),Object(L.a)(e,"deleteAnchorEl",null),e),onSubmit:function(e,t){window.setTimeout(function(){s(c,yt()(e,"nickname").trim(),yt()(e,"saveLocally")),t.resetForm()},500)},validationSchema:D.object().shape(Object(L.a)({},"nickname",D.string().trim().required("Required").test("nickname","Enter unique nickname",function(e){return-1===p.indexOf(e)}))),render:function(e){var t=e.isSubmitting,n=e.errors,l=e.touched,o=e.values,i=e.setFieldValue,s=e.handleChange;return r.a.createElement(W.d,null,r.a.createElement(y.a,{variant:"h6"},"Edit Address"),r.a.createElement(Va.a,{container:!0,item:!0,xs:12},r.a.createElement(Va.a,{item:!0,xs:12},r.a.createElement(yn,{error:!(!n.nickname||!l.nickname),name:"nickname",label:"Nickname",maxLength:25}),r.a.createElement("br",null),r.a.createElement(W.a,{name:"nickname",render:function(e){return r.a.createElement("span",{className:a.errorText},e)}})),r.a.createElement(Va.a,{item:!0,xs:12},r.a.createElement(W.b,{name:"saveLocally",render:function(e){var t=e.field;e.form;return r.a.createElement(St.a,{control:r.a.createElement(ma.a,{onChange:s,name:"saveLocally",checked:t.value,color:"default"}),label:"Save to local browser storage"})}})),r.a.createElement(Va.a,{item:!0,xs:12},r.a.createElement(C.a,{type:"submit",disabled:t,variant:"contained",color:"primary"},"Submit"," ",t&&r.a.createElement(r.a.Fragment,null,"\xa0",r.a.createElement(da.a,{size:20}))),r.a.createElement(C.a,{"aria-owns":o.deleteAnchorEl?"simple-menu":null,"aria-haspopup":"true",className:a.deleteButton,variant:"outlined",color:"secondary",onClick:function(e){i("deleteAnchorEl",e.currentTarget)}},"Delete"),r.a.createElement(N.a,{id:"simple-menu",anchorEl:o.deleteAnchorEl,open:Boolean(o.deleteAnchorEl),onClose:function(){i("deleteAnchorEl",null)}},r.a.createElement(T.a,{onClick:function(){m(c),i("deleteAnchorEl",null)},className:a.deleteConfirmationText},"Confirm Delete")))))}})}}]),t}(r.a.Component),yn=function(e){return r.a.createElement(W.b,{name:e.name},function(t){var a=t.field;return r.a.createElement(V.a,Object.assign({inputProps:Object(L.a)({spellCheck:!1,maxLength:e.maxLength,autoComplete:"nope"},"autoComplete","off")},a,{label:e.label+" "+(e.error?"*":""),margin:"dense",fullWidth:!0,error:e.error}))})},xn=p()(U.b,Object(h.withStyles)(function(e){return{errorText:{color:"red",fontSize:"12px"},deleteButton:{marginLeft:15},deleteConfirmationText:{color:"red"}}}))(vn),Cn=function(e){function t(){return Object(i.a)(this,t),Object(s.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this.props,t=e.classes,a=e.walletController.getActiveAddress,n=e.networkController.networkProps,l=a();return r.a.createElement(r.a.Fragment,null,!Ee()(l.transactions)&&r.a.createElement(r.a.Fragment,null,r.a.createElement(y.a,{variant:"h6"},"Recent Transactions"),l.transactions.map(function(e,a){return r.a.createElement(y.a,{key:a,gutterBottom:!0,className:t.transaction},r.a.createElement("b",null,"Tx ID:")," ",e," ",r.a.createElement(la.a,{title:"Open Factom Explorer"},r.a.createElement("a",{target:"_blank",rel:"noopener noreferrer",href:n.explorerURL+"/transaction?txid="+e},r.a.createElement(Oa.a,{color:"primary",style:{fontSize:15}}))))})))}}]),t}(r.a.Component),wn=p()(_.b,U.b,Object(h.withStyles)(function(e){return{transaction:{overflowWrap:"break-word"}}}))(Cn),kn=Object(h.withStyles)(function(e){return{root:{textAlign:"left"}}})(function(e){return r.a.createElement("div",{className:e.classes.root},r.a.createElement(en,null),r.a.createElement("br",null),r.a.createElement(Va.a,{container:!0,spacing:8},r.a.createElement(Va.a,{item:!0,xs:6},r.a.createElement(xn,null)),r.a.createElement(Va.a,{item:!0,xs:6},r.a.createElement(wn,null))))}),On=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(s.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).state={tabValue:0},a.handleChange=function(e,t){a.setState({tabValue:t})},a}return Object(u.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this.props,t=e.classes,a=e.type,n=e.activeAddress,l=e.networkController.networkProps,o=this.state.tabValue;return 3===o&&"seed"!==n.importType&&(o=0),r.a.createElement("div",{className:t.root},"fct"===a&&r.a.createElement("div",null,r.a.createElement(Ka.a,{value:o,onChange:this.handleChange,indicatorColor:"primary",textColor:"primary",centered:!0},r.a.createElement(Ga.a,{label:"Address Info"}),r.a.createElement(Ga.a,{label:"Send "+l.factoidAbbreviationFull}),r.a.createElement(Ga.a,{label:"Convert "+l.factoidAbbreviation+" to "+l.ecAbbreviation}),"seed"===n.importType&&r.a.createElement(Ga.a,{label:"View Private Key"})),0===o&&r.a.createElement(Sn,{classes:t},r.a.createElement(kn,null)),1===o&&r.a.createElement(Sn,{classes:t},r.a.createElement(on,null)),2===o&&r.a.createElement(Sn,{classes:t},r.a.createElement(pn,null)),3===o&&r.a.createElement(Sn,{classes:t},r.a.createElement(gn,null))),"ec"===a&&r.a.createElement("div",null,r.a.createElement(Ka.a,{value:0,onChange:this.handleChange,indicatorColor:"primary",textColor:"primary",centered:!0},r.a.createElement(Ga.a,{label:"Address Info"})),r.a.createElement(Sn,{classes:t},r.a.createElement(kn,null))))}}]),t}(r.a.Component);function Sn(e){return r.a.createElement(y.a,{component:"div",className:e.classes.tabContainer},e.children)}var An=p()(_.b,Object(h.withStyles)({root:{textAlign:"center"},tabContainer:{paddingLeft:55,paddingRight:55,paddingTop:18,paddingBottom:10}}))(On),jn=function(e){function t(){return Object(i.a)(this,t),Object(s.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){this.props.walletController.updateBalances()}},{key:"render",value:function(){var e=this.props.walletController,t=e.getActiveAddress,a=e.activeAddressIndex_o,n=t();return r.a.createElement(r.a.Fragment,null,!ve()(n)&&r.a.createElement(Va.a,{container:!0,spacing:24,item:!0,xs:12},r.a.createElement(Va.a,{item:!0,xs:4},r.a.createElement(Ha,null)),r.a.createElement(Va.a,{item:!0,xs:8},r.a.createElement(Q.a,null,r.a.createElement(An,{type:a.type,activeAddress:n})))))}}]),t}(n.Component),Nn=p()(U.b,Object(h.withStyles)(function(e){return{}}))(jn),Fn=a(875),Tn=function(e){function t(){return Object(i.a)(this,t),Object(s.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){this.props.setReadyToManageWallet(!1)}},{key:"render",value:function(){var e=this,t="testnet"===this.props.networkController.networkProps.network?"Manage Testnet Wallet":"Manage Wallet";return r.a.createElement(Va.a,{container:!0,item:!0,xs:12,justify:"center"},r.a.createElement(Pa,{handleClose:function(){return e.props.setReadyToManageWallet(!0)},handleCloseText:t}))}}]),t}(n.Component),Pn=p()(Fn.a,_.b,U.b,Object(h.withStyles)(function(e){return{}}))(Tn),Bn=a(203),In=a(193),Rn=a.n(In),Ln=a(394),Wn=a.n(Ln),Dn=0,Mn=function(e,t,a,n,r,l){return{id:Dn+=1,voteID:e,adminID:t,title:a,status:n,commitPhase:r,revealPhase:l}},Vn=[Mn("e62aeaad853809e0a6901faa7698d305b5927fe9aeffff9fa233f3367629f098","9F86D081884C7D659A2FEAA0C55AD015A3BF4F1B2B0B822CD15D6C15B0F00A08","Discussion Phase Example","Discussion Phase",r.a.createElement("span",null,"Start: 08/22/2018",r.a.createElement("br",null),"End: 08/30/2018"),r.a.createElement("span",null,"Start: 09/01/2018",r.a.createElement("br",null),"End: 09/15/2018")),Mn("c12941cbe6be9ae67caa3a34e2298bdf1b2feebe67a7144a40064aef908686b4","60303AE22B998861BCE3B28F33EEC1BE758A213C86C93C076DBE9F558C11C752","Commit Phase Example","Commit Phase",r.a.createElement("span",null,"Start: 08/22/2018",r.a.createElement("br",null),"End: 08/30/2018"),r.a.createElement("span",null,"Start: 09/01/2018",r.a.createElement("br",null),"End: 09/15/2018")),Mn("872963d936f10cfefffae3d478d98730e1c2c731c703af2ea58710dfc5c9f45c","60303AE22B998861BCE3B28F33EEC1BE758A213C86C93C076DBE9F558C11C752","Reveal Phase Example","Reveal Phase",r.a.createElement("span",null,"Start: 08/22/2018",r.a.createElement("br",null),"End: 08/30/2018"),r.a.createElement("span",null,"Start: 09/01/2018",r.a.createElement("br",null),"End: 09/15/2018")),Mn("71a7fc2f9e956515b2f2d43d6df67d2213fd5fe4cd37e477f8b9d6344120508f","2F110B81263414DFA03211351D7D2D3FFBCB7E1C4D699B3626ED520C6CD9738B","Completed Example","Completed",r.a.createElement("span",null,"Start: 08/22/2018",r.a.createElement("br",null),"End: 08/30/2018"),r.a.createElement("span",null,"Start: 09/01/2018",r.a.createElement("br",null),"End: 09/15/2018")),Mn("dc1da9c406f1fa6a382840c1e268e25f083e66897dc8645aa337e2fc2e6f5424","DB90FFB7EAFF3C3DF027777F4B2C0D426000FDCBAA7097712408E1DBD955067A","Invalidated Example","Invalidated",r.a.createElement("span",null,"Start: 08/22/2018",r.a.createElement("br",null),"End: 08/30/2018"),r.a.createElement("span",null,"Start: 09/01/2018",r.a.createElement("br",null),"End: 09/15/2018"))],Jn=function(e){function t(){return Object(i.a)(this,t),Object(s.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this.props.classes,t=this.props.expanded;return r.a.createElement(Va.a,{container:!0},r.a.createElement(Va.a,{item:!0,xs:12,className:e.tableWrapper},r.a.createElement(Ut.a,null,r.a.createElement($t.a,null,r.a.createElement(ta.a,null,r.a.createElement("th",{className:e.expandColumn},t?r.a.createElement(Wn.a,{style:{cursor:"pointer"},titleAccess:"Collapse",onClick:this.props.toggleExpand,title:"Collapse Row",className:e.expandIcon}):r.a.createElement(B.a,{style:{cursor:"pointer"},titleAccess:"Expand",onClick:this.props.toggleExpand,title:"Expand Row",className:e.expandIcon})),r.a.createElement(Xt.a,{className:"".concat(e.titleColumn," ").concat(e.columnHeader)},"Title",t&&r.a.createElement("span",null,r.a.createElement("br",null),r.a.createElement("input",{type:"text"}))),r.a.createElement(Xt.a,{className:"".concat(e.statusColumn," ").concat(e.columnHeader)},"Status",t&&r.a.createElement("span",null,r.a.createElement("br",null),r.a.createElement("select",null,r.a.createElement("option",{defaultValue:!0,value:""}),r.a.createElement("option",null,"Discussion Phase"),r.a.createElement("option",null,"Commit Phase"),r.a.createElement("option",null,"Reveal Phase"),r.a.createElement("option",null,"Complete"),r.a.createElement("option",null,"Invalidated")))),r.a.createElement(Xt.a,{className:"".concat(e.dateColumn," ").concat(e.columnHeader)},"Commit Phase"),r.a.createElement(Xt.a,{className:"".concat(e.dateColumn," ").concat(e.columnHeader)},"Reveal Phase"),t?r.a.createElement(Xt.a,{className:"".concat(e.pollChainIDColumn," ").concat(e.columnHeader)},"Poll Chain ID",r.a.createElement("br",null),r.a.createElement("input",{type:"text"})):r.a.createElement(Xt.a,{className:"".concat(e.shortPollChainIDColumn," ").concat(e.columnHeader)},"Poll Chain ID"),t?r.a.createElement(Xt.a,{className:"".concat(e.adminIDColumn," ").concat(e.columnHeader)},"Poll Admin ID",r.a.createElement("br",null),r.a.createElement("input",{type:"text"})):r.a.createElement(Xt.a,{className:"".concat(e.shortAdminIDColumn," ").concat(e.columnHeader)},"Poll Admin ID"))),r.a.createElement(Yt.a,null,Vn.map(function(a){return r.a.createElement(ta.a,{key:a.id,hover:!0},r.a.createElement("td",{className:e.expandColumn}),r.a.createElement(Xt.a,{className:e.titleColumn},r.a.createElement(A.a,{to:"/viewVote?id="+a.voteID},a.title)),r.a.createElement(Xt.a,{className:e.statusColumn},a.status),r.a.createElement(Xt.a,{className:e.dateColumn},r.a.createElement("div",{style:{width:"104px"}},a.commitPhase)),r.a.createElement(Xt.a,{className:e.dateColumn},r.a.createElement("div",{style:{width:"104px"}},a.revealPhase)),t?r.a.createElement(Xt.a,{className:e.pollChainIDColumn},a.voteID):r.a.createElement(Xt.a,{className:e.shortPollChainIDColumn},a.voteID),t?r.a.createElement(Xt.a,{className:e.adminIDColumn},a.adminID):r.a.createElement(Xt.a,{className:e.shortAdminIDColumn},a.adminID))})))),r.a.createElement(Va.a,{item:!0,xs:2},r.a.createElement(Rn.a,{component:Va.a,onChangePage:function(){},count:Vn.length,rowsPerPage:25,page:0})))}}]),t}(r.a.Component),Hn=Object(h.withStyles)(function(e){return{tableWrapper:{overflowX:"auto"},table:{},titleColumn:{minWidth:"252",paddingRight:"1px"},adminIDColumn:{paddingRight:"0px"},shortAdminIDColumn:{maxWidth:"207px",overflow:"hidden",textOverflow:"ellipsis",paddingRight:"0px"},shortPollChainIDColumn:{maxWidth:"207px",overflow:"hidden",textOverflow:"ellipsis",paddingRight:"0px"},pollChainIDColumn:{paddingRight:"0px"},statusColumn:{maxWidth:"165px",overflow:"hidden",textOverflow:"ellipsis"},dateColumn:{maxWidth:"129px",paddingRight:"1px"},expandIcon:{margin:"-5px"},expandColumn:{maxWidth:"3px"},footerPagination:{maxWidth:"345px"},columnHeader:{fontSize:"13px"}}})(Jn),qn=a(194),Kn=a.n(qn),zn=a(395),Gn=a.n(zn),Un=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(s.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).state={expanded:!1},a.toggleExpand=function(){a.setState(function(e){return{expanded:!e.expanded}})},a.handleExpand=function(){a.setState({expanded:!0})},a}return Object(u.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this.props.classes;return r.a.createElement("div",{className:e.body},r.a.createElement(Q.a,{className:e.paper},r.a.createElement(Va.a,{container:!0,direction:"row"},r.a.createElement(Va.a,{item:!0,xs:3,className:e.topFilters},r.a.createElement(Bn.a,{style:{textAlign:"left"}},"Voter ID: ",r.a.createElement("input",{type:"text"})),r.a.createElement(Bn.a,{style:{textAlign:"left"}},"Protocol Polls Only:",r.a.createElement(Kn.a,{defaultChecked:!0,value:"checkedF",color:"primary"}))),r.a.createElement(Va.a,{item:!0,xs:6},r.a.createElement(Bn.a,{variant:"h5",gutterBottom:!0},"Welcome to Factom's On-Chain Voting")),r.a.createElement(Va.a,{item:!0,xs:2}),r.a.createElement(Va.a,{item:!0,xs:1},r.a.createElement(Va.a,{style:{paddingTop:"20px"},item:!0,xs:2},r.a.createElement(C.a,{onClick:this.handleExpand,variant:"outlined",color:"primary",size:"small"},r.a.createElement(Gn.a,null)," Filter")))),r.a.createElement(Hn,{expanded:this.state.expanded,toggleExpand:this.toggleExpand})),r.a.createElement("br",null))}}]),t}(n.Component),_n=(Object(h.withStyles)(function(e){return{body:{textAlign:"center",margin:"0 auto",marginTop:"20px"},form:{textAlign:"left"},paper:{padding:"15px"},topFilters:{top:"14px",position:"relative",left:"8px"}}})(Un),a(271)),Yn=a.n(_n),Qn=a(272),Xn=a.n(Qn),Zn=a(396),$n=a.n(Zn),er=a(401),tr=a.n(er),ar=a(400),nr=a.n(ar),rr=a(73),lr=a.n(rr),or=a(397),ir=a.n(or),cr=a(197),sr=a.n(cr),mr="Binary Voting",ur=0,dr=1,pr="Single Option Voting",hr=1,Er=1,fr="Approval Voting",br=1,gr="Instant Runoff Voting",vr=2,yr="pollJSON.proposal.externalRef.href",xr="pollJSON.vote.config.options",Cr="pollJSON.vote.config.acceptanceCriteria.weightedMinTurnout",wr="pollJSON.vote.config.acceptanceCriteria.unweightedMinTurnout",kr="pollJSON.vote.config.acceptanceCriteria.weightedMinSupport",Or="pollJSON.vote.config.acceptanceCriteria.unweightedMinSupport",Sr=["Single Option Voting","Approval Voting","Instant Run-Off Voting"],Ar=function(e){function t(){return Object(i.a)(this,t),Object(s.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this.props.classes,t=this.props.poll,a=yt()(t,Cr)||yt()(t,wr),n=yt()(t,kr)||yt()(t,Or);return r.a.createElement(Va.a,{item:!0,xs:12,container:!0},r.a.createElement(Va.a,{item:!0,xs:12},r.a.createElement(J,{text:"Configuration"})),r.a.createElement(Va.a,{item:!0,container:!0,xs:12},r.a.createElement(Va.a,{item:!0,xs:3,className:e.smallGridColumn},r.a.createElement(y.a,{gutterBottom:!0},"Title:")),r.a.createElement(Va.a,{item:!0,xs:9},r.a.createElement(y.a,null,yt()(t,"pollJSON.proposal.title"))),r.a.createElement(Va.a,{item:!0,xs:3,className:e.smallGridColumn},r.a.createElement(y.a,{gutterBottom:!0},"Commit Start Block:")),r.a.createElement(Va.a,{item:!0,xs:9},r.a.createElement(y.a,null,yt()(t,"pollJSON.vote.phasesBlockHeights.commitStart"))),r.a.createElement(Va.a,{item:!0,xs:3,className:e.smallGridColumn},r.a.createElement(y.a,{gutterBottom:!0},"Commit End Block:")),r.a.createElement(Va.a,{item:!0,xs:9},r.a.createElement(y.a,null,yt()(t,"pollJSON.vote.phasesBlockHeights.commitEnd"))),r.a.createElement(Va.a,{item:!0,xs:3,className:e.smallGridColumn},r.a.createElement(y.a,{gutterBottom:!0},"Reveal Start Block:")),r.a.createElement(Va.a,{item:!0,xs:9},r.a.createElement(y.a,null,yt()(t,"pollJSON.vote.phasesBlockHeights.revealStart"))),r.a.createElement(Va.a,{item:!0,xs:3,className:e.smallGridColumn},r.a.createElement(y.a,{gutterBottom:!0},"Reveal End Block:")),r.a.createElement(Va.a,{item:!0,xs:9},r.a.createElement(y.a,null,yt()(t,"pollJSON.vote.phasesBlockHeights.revealEnd")))),yt()(t,"formFields.pollChainID")&&r.a.createElement(Va.a,{item:!0,xs:12,container:!0},r.a.createElement(Va.a,{item:!0,xs:3,className:e.smallGridColumn},r.a.createElement(y.a,{gutterBottom:!0},"Poll Chain ID:")),r.a.createElement(Va.a,{item:!0,xs:9},r.a.createElement(y.a,null,yt()(t,"formFields.pollChainID"),"\xa0",r.a.createElement("a",{target:"_blank",rel:"noopener noreferrer",href:"https://explorer.factom.com/eblocks/0e5570917c25c6b35dbf67c802958d802e43fd9f48dd0c35a01feec1235de267"},r.a.createElement(Oa.a,{color:"primary",style:{fontSize:15}}))))),yt()(t,"formFields.pollAdminID")&&r.a.createElement(Va.a,{item:!0,xs:12,container:!0},r.a.createElement(Va.a,{item:!0,xs:3,className:e.smallGridColumn},r.a.createElement(y.a,{gutterBottom:!0},"Poll Admin ID:")),r.a.createElement(Va.a,{item:!0,xs:9},r.a.createElement(y.a,null,yt()(t,"formFields.pollAdminID"),"\xa0",r.a.createElement("a",{target:"_blank",rel:"noopener noreferrer",href:"https://explorer.factom.com/eblocks/0e5570917c25c6b35dbf67c802958d802e43fd9f48dd0c35a01feec1235de267"},r.a.createElement(Oa.a,{color:"primary",style:{fontSize:15}}))))),yt()(t,"formFields.protocolVersion")&&r.a.createElement(Va.a,{item:!0,xs:12,container:!0},r.a.createElement(Va.a,{item:!0,xs:3,className:e.smallGridColumn},r.a.createElement(y.a,{gutterBottom:!0},"Protocol Version:")),r.a.createElement(Va.a,{item:!0,xs:9},r.a.createElement(y.a,null,yt()(t,"formFields.protocolVersion")))),r.a.createElement(Va.a,{item:!0,xs:12},r.a.createElement("br",null),r.a.createElement(J,{text:"Question"})),yt()(t,yr)&&r.a.createElement(Va.a,{container:!0,item:!0,xs:12},r.a.createElement(Va.a,{item:!0,xs:3,className:e.smallGridColumn},r.a.createElement(y.a,{gutterBottom:!0},"URL Link:")),r.a.createElement(Va.a,{item:!0,xs:9},r.a.createElement("a",{href:yt()(t,yr)},r.a.createElement(y.a,null,yt()(t,yr)))),r.a.createElement(Va.a,{item:!0,xs:3,className:e.smallGridColumn},r.a.createElement(y.a,{gutterBottom:!0},"Proposal Hash:\xa0",r.a.createElement(la.a,{title:"Hash Type: "+yt()(t,"pollJSON.proposal.externalRef.hash.algo")},r.a.createElement(ir.a,{style:{fontSize:"15px"}})))),r.a.createElement(Va.a,{item:!0,xs:9},r.a.createElement(y.a,null,yt()(t,"pollJSON.proposal.externalRef.hash.value")))),yt()(t,"pollJSON.proposal.text")&&r.a.createElement(Va.a,{container:!0,item:!0,xs:12},r.a.createElement(Va.a,{item:!0,xs:3,className:e.smallGridColumn},r.a.createElement(y.a,{gutterBottom:!0},"Question:")),r.a.createElement(Va.a,{item:!0,xs:9},r.a.createElement(y.a,null,yt()(t,"pollJSON.proposal.text")))),r.a.createElement(Va.a,{item:!0,xs:12},r.a.createElement("br",null),r.a.createElement(J,{text:"Answers"})),r.a.createElement(Va.a,{item:!0,xs:2,className:e.smallGridColumn},r.a.createElement(y.a,{gutterBottom:!0},"Type:")),r.a.createElement(Va.a,{item:!0,xs:10},r.a.createElement(y.a,null,Sr[yt()(t,"pollJSON.vote.type")])),r.a.createElement(Va.a,{container:!0,item:!0,xs:12},r.a.createElement(Va.a,{item:!0,xs:2},r.a.createElement(y.a,{gutterBottom:!0},"Allow Abstain:")),r.a.createElement(Va.a,{item:!0,xs:10},r.a.createElement("input",{defaultChecked:!0,type:"checkbox"}))),(yt()(t,"pollJSON.vote.type")===br||yt()(t,"pollJSON.vote.type")===vr)&&r.a.createElement(Va.a,{container:!0,item:!0,xs:12},r.a.createElement(Va.a,{item:!0,xs:12},r.a.createElement(y.a,{gutterBottom:!0},"Minimum Options Allowed:\xa0\xa0",yt()(t,"pollJSON.vote.config.minOptions"))),r.a.createElement(Va.a,{item:!0,xs:12},r.a.createElement(y.a,{gutterBottom:!0},"Maximum Options Allowed:\xa0",yt()(t,"pollJSON.vote.config.maxOptions")))),yt()(t,"pollJSON.vote.type")&&r.a.createElement(Va.a,{item:!0,xs:12},r.a.createElement(Q.a,{elevation:1,className:e.pad},r.a.createElement(y.a,{variant:"subtitle1"},"Options"),r.a.createElement(mt.a,{dense:!0},yt()(t,xr)&&yt()(t,xr).map(function(e,a){return r.a.createElement(dt.a,{key:a,divider:a<yt()(t,xr).length-1},r.a.createElement(sr.a,{style:{fontSize:15}}),r.a.createElement(lr.a,{primary:e}))})))),r.a.createElement(Va.a,{item:!0,xs:12},r.a.createElement("br",null),r.a.createElement(J,{text:"Acceptance Criteria"}),a||n?r.a.createElement(mt.a,{dense:!0},a&&r.a.createElement(dt.a,{divider:!0},r.a.createElement(Va.a,{container:!0},r.a.createElement(Va.a,{item:!0,xs:4},r.a.createElement(St.a,{control:r.a.createElement(ma.a,{disableRipple:!0,color:"default",checked:a}),label:"Minimum Turnout"})),r.a.createElement(Va.a,{item:!0,xs:8},r.a.createElement(Va.a,{container:!0},yt()(t,Cr)&&r.a.createElement(Va.a,{item:!0,xs:12},!yt()(t,wr)&&r.a.createElement("br",null),r.a.createElement(y.a,{style:{display:"inline"}},"Weighted Ratio:\xa0",yt()(t,Cr))),yt()(t,wr)&&r.a.createElement(Va.a,{item:!0,xs:12},!yt()(t,Cr)&&r.a.createElement("br",null),r.a.createElement(y.a,{style:{display:"inline"}},"Unweighted Ratio:\xa0",yt()(t,wr))))))),n&&r.a.createElement(dt.a,null,r.a.createElement(Va.a,{container:!0},r.a.createElement(Va.a,{item:!0,xs:4},r.a.createElement(St.a,{control:r.a.createElement(ma.a,{disableRipple:!0,color:"default",checked:n}),label:"Minimum Support"})),r.a.createElement(Va.a,{item:!0,xs:8},r.a.createElement(Va.a,{container:!0},yt()(t,kr)&&r.a.createElement(Va.a,{item:!0,xs:12},!yt()(t,Or)&&r.a.createElement("br",null),r.a.createElement(y.a,{style:{display:"inline"}},"Weighted Ratio:\xa0",yt()(t,kr))),yt()(t,Or)&&r.a.createElement(Va.a,{item:!0,xs:12},!yt()(t,kr)&&r.a.createElement("br",null),r.a.createElement(y.a,{style:{display:"inline"}},"Unweighted Ratio:\xa0",yt()(t,Or)))))))):r.a.createElement("div",null,r.a.createElement(y.a,null,"None"),r.a.createElement("br",null))))}}]),t}(r.a.Component),jr=Object(h.withStyles)(function(e){return{pad:{padding:15},smallGridColumn:{flexBasis:"19%"},optionList:{width:"350px",overflow:"auto"}}})(Ar),Nr=a(18),Fr=a.n(Nr),Tr=a(151),Pr=a.n(Tr),Br=a(398),Ir=a.n(Br),Rr=a(399),Lr=a.n(Rr),Wr=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(s.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).timer=null,a.state={loading:!1,success:!1},a.handleButtonClick=function(){a.state.loading||a.setState({success:!1,loading:!0},function(){a.timer=setTimeout(function(){a.setState({loading:!1,success:!0})},2e3)})},a}return Object(u.a)(t,e),Object(c.a)(t,[{key:"componentWillUnmount",value:function(){clearTimeout(this.timer)}},{key:"render",value:function(){var e=this.state,t=e.loading,a=e.success,n=this.props.classes,l=Fr()(Object(L.a)({},n.buttonSuccess,a));return r.a.createElement("div",{className:n.root},r.a.createElement("div",{className:n.wrapper},r.a.createElement(C.a,{variant:"fab",color:"secondary",className:l,onClick:this.handleButtonClick},a?r.a.createElement(Ir.a,null):r.a.createElement(Lr.a,null)),t&&r.a.createElement(da.a,{size:68,className:n.fabProgress})),r.a.createElement("div",{className:n.wrapper},r.a.createElement(C.a,{variant:"contained",color:"secondary",className:l,disabled:t,onClick:this.handleButtonClick},a?"Verified":"Verify Signature"),t&&r.a.createElement(da.a,{size:24,className:n.buttonProgress})))}}]),t}(r.a.Component),Dr=Object(h.withStyles)(function(e){return{root:{display:"flex",alignItems:"center"},wrapper:{margin:e.spacing.unit,position:"relative"},buttonSuccess:{backgroundColor:Pr.a[500],"&:hover":{backgroundColor:Pr.a[700]}},fabProgress:{color:Pr.a[500],position:"absolute",top:-6,left:-6,zIndex:1},buttonProgress:{color:Pr.a[500],position:"absolute",top:"50%",left:"50%",marginTop:-12,marginLeft:-12}}})(Wr),Mr=0,Vr=function(e,t,a,n,r){return{id:Mr+=1,voterID:e,commit:t,reveal:a,role:n,vote:r}},Jr=[Vr("Factom Inc",!0,null,r.a.createElement("div",null,"Guide",r.a.createElement("br",null),"ANO"),null),Vr("LUCIAP",!0,null,"ANO",null),Vr("60303AE22B998861BCE3B28F33EEC1BE758A213C86C93C076DBE9F558C11C752",!0,null,"",null),Vr("The 42nd Factoid","",null,"Guide",!1),Vr("872963d936f10cfefffae3d478d98730e1c2c731c703af2ea58710dfc5c9f45c",!0,null,"",null)],Hr=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(s.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).state={tabValue:0,poll:{pollJSON:{proposal:{title:"This Is The Title",text:"",externalRef:{href:"https://raw.githubusercontent.com/JacobEberhardt/ZoKrates/aa7e11/README.md",hash:{value:"F30A765AD6C5777E82EB2B64CFA53CDBB08D435546DD351880C13691867290B4",algo:"SHA-256"}}},vote:{phasesBlockHeights:{commitStart:"158883",commitEnd:"158884",revealStart:"158885",revealEnd:"158886"},eligibleVotersChainId:"",type:"0",config:{options:["Yes","No","Abstain"],allowAbstention:"",computeResultsAgainst:"",minOptions:"",maxOptions:"",acceptanceCriteria:{minSupport:{},minTurnout:{}}}}},formFields:{protocolVersion:"v0.1",pollAdminID:"888888655866a003faabd999c7b0a7c908af17d63fd2ac2951dc99e1ad2a14f4",pollChainID:$n.a.parse(a.props.location.search)["?id"]}},expand:!1},a.toggleExpand=function(){a.setState(function(e){return{expand:!e.expand}})},a.handleTabChange=function(e,t){a.setState({tabValue:t})},a}return Object(u.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this,t=this.props.classes;return r.a.createElement(Va.a,{container:!0,spacing:24},r.a.createElement(Va.a,{item:!0,xs:2}),r.a.createElement(Va.a,{item:!0,xs:8},r.a.createElement(Q.a,{className:t.pad},r.a.createElement(Va.a,{container:!0},r.a.createElement(Va.a,{item:!0,xs:12},r.a.createElement(y.a,{align:"center",gutterBottom:!0,variant:"h6"},"Poll: ",this.state.poll.pollJSON.proposal.title)),r.a.createElement(Va.a,{item:!0,xs:12},r.a.createElement(Q.a,{className:t.pad},r.a.createElement(y.a,{style:{display:"inline",fontWeight:500},gutterBottom:!0},"Status:\xa0"),r.a.createElement(y.a,{style:{display:"inline"}},"Commit Phase")),r.a.createElement("br",null)),r.a.createElement(Va.a,{item:!0,xs:12},r.a.createElement(Q.a,{className:t.pad},r.a.createElement(Ka.a,{value:this.state.tabValue,onChange:this.handleTabChange,indicatorColor:"primary",textColor:"primary",centered:!0},r.a.createElement(Ga.a,{label:"View Details"}),r.a.createElement(Ga.a,{label:"View Voters"}),r.a.createElement(Ga.a,{label:"Cast Vote"})),0===this.state.tabValue&&r.a.createElement(Va.a,{container:!0,className:t.pad},r.a.createElement(jr,{className:t.pad,poll:this.state.poll})),1===this.state.tabValue&&r.a.createElement("div",null,r.a.createElement("div",{className:t.tableWrapper},r.a.createElement(Ut.a,null,r.a.createElement($t.a,null,r.a.createElement(ta.a,null,r.a.createElement("th",{className:t.expandColumn},this.state.expand?r.a.createElement(nr.a,{style:{cursor:"pointer"},onClick:this.toggleExpand,titleAccess:"Collapse"}):r.a.createElement(tr.a,{style:{cursor:"pointer"},onClick:this.toggleExpand,titleAccess:"Expand"})),this.state.expand?r.a.createElement(Xt.a,null,"Voter ID"):r.a.createElement(Xt.a,{className:t.chainIDColumn},"Voter ID"),r.a.createElement(Xt.a,null,"Commit"),r.a.createElement(Xt.a,null,"Reveal"),r.a.createElement(Xt.a,null,"Vote"),r.a.createElement(Xt.a,null,"Role"))),r.a.createElement(Yt.a,null,Jr.map(function(a){return r.a.createElement(ta.a,{key:a.voterID},r.a.createElement("td",{className:t.expandColumn}),e.state.expand?r.a.createElement(Xt.a,null,a.voterID):r.a.createElement(Xt.a,{className:t.chainIDColumn},a.voterID),r.a.createElement(Xt.a,null,Boolean(a.commit)&&0x1c646f90be1c1c0!==a.voterID?r.a.createElement(Yn.a,{color:"primary"}):""),r.a.createElement(Xt.a,null,Boolean(a.reveal)&&0x1c646f90be1c1c0!==a.voterID&&r.a.createElement(Yn.a,{color:"primary"}),0x1c646f90be1c1c0===a.voterID&&r.a.createElement(Xn.a,{color:"secondary"})),r.a.createElement(Xt.a,null,(Boolean(a.vote)&&a.voterID,r.a.createElement(y.a,null,a.vote)),0x1c646f90be1c1c0===a.voterID&&r.a.createElement(Xn.a,{color:"secondary"})),r.a.createElement(Xt.a,null,a.role))}))))),2===this.state.tabValue&&r.a.createElement(Va.a,{container:!0,className:t.pad},r.a.createElement(Va.a,{item:!0,xs:12},r.a.createElement("br",null),r.a.createElement(J,{text:"Question"})),r.a.createElement(Va.a,{item:!0,xs:2,className:t.smallGridColumn},r.a.createElement(y.a,{gutterBottom:!0},"URL Link:")),r.a.createElement(Va.a,{item:!0,xs:10},r.a.createElement("a",{href:"https://raw.githubusercontent.com/JacobEberhardt/ZoKrates/aa7e11/README.md"},r.a.createElement(y.a,null,"https://raw.githubusercontent.com/JacobEberhardt/ZoKrates/aa7e11/README.md"))),r.a.createElement(Va.a,{item:!0,xs:12},r.a.createElement("br",null),r.a.createElement(J,{text:"Answer"})),r.a.createElement(Va.a,{item:!0,xs:12},r.a.createElement("select",null,r.a.createElement("option",{selected:!0,disabled:!0,hidden:!0},"Choose an Answer"),r.a.createElement("option",null,"Yes"),r.a.createElement("option",null,"No"),r.a.createElement("option",null,"Abstain"))),r.a.createElement(Va.a,{item:!0,xs:12},r.a.createElement("br",null),r.a.createElement(J,{text:"Sign Transaction"})),r.a.createElement(Va.a,{xs:2,item:!0},r.a.createElement(y.a,{gutterBottom:!0},"Voter ID:")),r.a.createElement(Va.a,{xs:10,item:!0},r.a.createElement("input",{type:"text"})),r.a.createElement(Va.a,{xs:2,item:!0},r.a.createElement(y.a,{gutterBottom:!0},"Signature:")),r.a.createElement(Va.a,{xs:10,item:!0},r.a.createElement("input",{type:"password"})),r.a.createElement(Va.a,{xs:2,item:!0},r.a.createElement(y.a,{gutterBottom:!0},"EC Private Key:")),r.a.createElement(Va.a,{xs:10,item:!0},r.a.createElement("input",{type:"password"})),r.a.createElement(Va.a,{item:!0,xs:12},r.a.createElement(Dr,null)),r.a.createElement(Va.a,{item:!0,xs:12},r.a.createElement("br",null),r.a.createElement(C.a,{variant:"contained",color:"primary",onClick:this.handleNext},"Submit Vote")))))))),r.a.createElement(Va.a,{item:!0,xs:2}))}}]),t}(r.a.Component),qr=(Object(h.withStyles)(function(e){return{pad:{padding:15},tableWrapper:{overflowX:"auto"},smallGridColumn:{flexBasis:"19%"},expandColumn:{maxWidth:"3px"},chainIDColumn:{maxWidth:"265px",overflow:"hidden",textOverflow:"ellipsis"}}})(Hr),a(198)),Kr=a.n(qr),zr=a(402),Gr=a.n(zr),Ur="formFields.selectedList",_r=function(e){function t(){return Object(i.a)(this,t),Object(s.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){window.scrollTo(0,0)}},{key:"handleKeyPress",value:function(e){"textarea"!==e.target.type&&13===e.which&&e.preventDefault()}},{key:"render",value:function(){var e=this,t=this.props,a=t.eligibleVotersForm,n=t.classes,l=t.updateParticipants;return r.a.createElement(W.e,{initialValues:a,onSubmit:function(t,a){l(t),e.props.handleNext()},render:function(t){var a=t.values,l=t.handleChange,o=t.setFieldValue,i=t.isSubmitting;return r.a.createElement(Va.a,{container:!0,className:n.pad},r.a.createElement(Va.a,{item:!0,xs:12},r.a.createElement(J,{text:"Select Voters"})),r.a.createElement(Va.a,{item:!0,xs:12},r.a.createElement(W.d,{onKeyPress:e.handleKeyPress},r.a.createElement(W.c,{name:"participantsJSON",render:function(t){return r.a.createElement(Va.a,{container:!0},r.a.createElement(Va.a,{item:!0,xs:12,container:!0},r.a.createElement(Va.a,{item:!0,xs:4},r.a.createElement(jt.a,{component:"fieldset"},r.a.createElement(kt.a,{name:Ur,value:yt()(a,Ur),onChange:l},r.a.createElement(St.a,{value:"standing",control:r.a.createElement(Ct.a,null),label:"Standing Parties"}),r.a.createElement(St.a,{value:"anos",control:r.a.createElement(Ct.a,null),label:"Authority Node Operators"}),r.a.createElement(St.a,{value:"guides",control:r.a.createElement(Ct.a,null),label:"Guides"}),r.a.createElement(St.a,{value:"custom",control:r.a.createElement(Ct.a,null),label:"Custom List"})))),"custom"===yt()(a,Ur)?r.a.createElement(Va.a,{item:!0,xs:4,className:n.borders},r.a.createElement(y.a,{style:{fontWeight:500},gutterBottom:!0},"Add Voter"),r.a.createElement(y.a,{gutterBottom:!0},"Voter ID:\xa0",r.a.createElement(W.b,{type:"number",name:"formFields.workingVoterID"})),r.a.createElement(y.a,{gutterBottom:!0},"Weight:\xa0\xa0\xa0",r.a.createElement(W.b,{type:"number",name:"formFields.workingWeight"})),r.a.createElement("input",{type:"button",onClick:function(){t.push({voterID:yt()(a,"formFields.workingVoterID"),weight:yt()(a,"formFields.workingWeight")}),o("formFields.workingVoterID",""),o("formFields.workingWeight","")},value:"Add",disabled:!yt()(a,"formFields.workingVoterID")||!yt()(a,"formFields.workingWeight")})):r.a.createElement(Va.a,{item:!0,xs:4}),"custom"===yt()(a,Ur)?r.a.createElement(Va.a,{item:!0,xs:4,className:n.padLoadVoters},r.a.createElement("div",null,r.a.createElement(y.a,{style:{fontWeight:500},gutterBottom:!0},"Load Voters"),r.a.createElement(y.a,{gutterBottom:!0},"File: ",r.a.createElement("input",{disabled:!0,type:"file"})),r.a.createElement(y.a,null,"Voter Chain ID: ",r.a.createElement("input",{disabled:!0,type:"text"})),r.a.createElement(y.a,{gutterBottom:!0},"Authority Nodes:",r.a.createElement("input",{disabled:!0,type:"checkbox"}),r.a.createElement("br",null),"Guides: ",r.a.createElement("input",{disabled:!0,type:"checkbox"})),r.a.createElement("button",{disabled:!0},"Load"))):r.a.createElement(Va.a,{item:!0,xs:5})),"custom"===yt()(a,Ur)&&r.a.createElement(Va.a,{item:!0,xs:12},r.a.createElement(Q.a,{elevation:10,className:n.listContainer},r.a.createElement(y.a,{variant:"subtitle1"},"Eligible Voter List"),r.a.createElement(mt.a,{className:n.list,dense:!0},yt()(a,"participantsJSON").length>0?yt()(a,"participantsJSON").map(function(e,a){return r.a.createElement(dt.a,{key:a,disableGutters:!0,divider:!0},r.a.createElement(Gr.a,null),r.a.createElement(lr.a,{primary:"Voter ID: "+e.voterID,secondary:"Weight: "+e.weight}),r.a.createElement(k.a,{onClick:function(){t.remove(a)},"aria-label":"Clear"},r.a.createElement(Kr.a,null)))}):r.a.createElement(dt.a,{disableGutters:!0,divider:!0},r.a.createElement(lr.a,{primary:"No Voters have been added"}))))),"standing"===yt()(a,Ur)&&r.a.createElement(Va.a,{item:!0,xs:12}),r.a.createElement(Va.a,{item:!0,xs:12,className:n.stepperButtons},r.a.createElement("br",null),r.a.createElement(C.a,{disabled:!0,onClick:e.props.handleBack},"Back"),r.a.createElement(C.a,{variant:"contained",color:"primary",type:"submit",disabled:i},"Next")))}}))))}})}}]),t}(r.a.Component),Yr=Object(h.withStyles)(function(e){return{pad:{padding:"15px"},list:{overflow:"auto",height:350},borders:{borderRightStyle:"solid",borderRightColor:"lightgray",borderRightWidth:"1px",borderLeftStyle:"solid",borderLeftColor:"lightgray",borderLeftWidth:"1px",padding:"10px"},padLoadVoters:{padding:"10px"},listContainer:{marginTop:"10px",padding:"15px"},stepperButtons:{marginLeft:"-15px"}}})(_r);var Qr=Object(h.withStyles)(function(e){return{pad:{padding:15},smallGridColumn:{flexBasis:"19%"},optionList:{width:"350px",overflow:"auto"},stepperButtons:{marginLeft:"-15px"}}})(function(e){var t=e.classes;return r.a.createElement(Va.a,{container:!0,className:t.pad},r.a.createElement(jr,{poll:e.poll}),r.a.createElement(Va.a,{item:!0,xs:12},r.a.createElement(J,{text:"Sign Transaction"})),r.a.createElement(Va.a,{xs:2,item:!0},r.a.createElement(y.a,{gutterBottom:!0},"Poll Admin ID:")),r.a.createElement(Va.a,{xs:10,item:!0},r.a.createElement("input",{type:"text"})),r.a.createElement(Va.a,{xs:2,item:!0},r.a.createElement(y.a,{gutterBottom:!0},"Signature:")),r.a.createElement(Va.a,{xs:10,item:!0},r.a.createElement("input",{type:"password"})),r.a.createElement(Va.a,{xs:2,item:!0},r.a.createElement(y.a,{gutterBottom:!0},"EC Private Key:")),r.a.createElement(Va.a,{xs:10,item:!0},r.a.createElement("input",{type:"password"})),r.a.createElement(Va.a,{item:!0,xs:12},r.a.createElement(Dr,null)),r.a.createElement(Va.a,{item:!0,xs:12,className:t.stepperButtons},r.a.createElement("br",null),r.a.createElement(C.a,{onClick:e.handleBack},"Back"),r.a.createElement(C.a,{variant:"contained",color:"primary",onClick:e.handleNext},"Submit Poll")))});var Xr=Object(h.withStyles)(function(e){return{pad:{padding:"15px"}}})(function(e){var t=e.classes;return r.a.createElement(Va.a,{className:t.pad,container:!0},r.a.createElement(Va.a,{item:!0,xs:12},r.a.createElement(J,{text:"Setup Complete!"}),r.a.createElement(y.a,{gutterBottom:!0},"You're poll is pending confirmation on the Factom blockchain.\xa0",r.a.createElement(A.a,{target:"_blank",rel:"noopener noreferrer",to:"/viewVote?id=e62aeaad853809e0a6901faa7698d305b5927fe9aeffff9fa233f3367629f098"},r.a.createElement(C.a,{variant:"outlined"},"View Poll",r.a.createElement(Oa.a,null))))),r.a.createElement(Va.a,{item:!0,xs:12},r.a.createElement(y.a,{style:{display:"inline",fontWeight:500},gutterBottom:!0},"Voter Chain ID:\xa0",r.a.createElement(y.a,{style:{display:"inline"}},"df3ade9eec4b08d5379cc64270c30ea7315d8a8a1a69efe2b98a60ecdd69e604\xa0",r.a.createElement("a",{target:"_blank",rel:"noopener noreferrer",href:"https://explorer.factom.com/eblocks/0e5570917c25c6b35dbf67c802958d802e43fd9f48dd0c35a01feec1235de267"},r.a.createElement(Oa.a,{color:"primary",style:{fontSize:15}})))),r.a.createElement("br",null),r.a.createElement(y.a,{style:{display:"inline",fontWeight:500},gutterBottom:!0},"Poll Chain ID:\xa0"),r.a.createElement(y.a,{style:{display:"inline"}},"e5783ef44313a678d489b6917ef96d971156615ae71a671fdf638af403146ab7\xa0",r.a.createElement("a",{target:"_blank",rel:"noopener noreferrer",href:"https://explorer.factom.com/eblocks/0e5570917c25c6b35dbf67c802958d802e43fd9f48dd0c35a01feec1235de267"},r.a.createElement(Oa.a,{color:"primary",style:{fontSize:15}})))))}),Zr=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(s.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).state={pollForm:{pollJSON:{proposal:{title:"",text:"",externalRef:{href:"",hash:{value:"",algo:""}}},vote:{phasesBlockHeights:{commitStart:"",commitEnd:"",revealStart:"",revealEnd:""},eligibleVotersChainId:"",type:"",config:{options:[],allowAbstention:"",computeResultsAgainst:"",minOptions:"",maxOptions:"",winnerCriteria:{},acceptanceCriteria:{}}}},formFields:{voteTypeText:"",questionSource:"text",workingHref:"",workingOption:"",checkedTurnout:!1,checkedSupport:!1,workingWeightMinTurnout:"",workingUnweightMinTurnout:"",workingWeightMinSupport:"",workingUnweightMinSupport:"",workingMinSupportOption:""}},eligibleVotersForm:{participantsJSON:[],formFields:{selectedList:"standing",workingVoterID:"",workingWeight:""}}},a.updatePoll=function(e){a.setState({pollForm:e})},a.updateParticipants=function(e){a.setState({eligibleVotersForm:e})},a}return Object(u.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return this.props.children(Object(ue.a)({},this.state,{updatePoll:this.updatePoll,updateParticipants:this.updateParticipants}))}}]),t}(r.a.Component),$r=a(204),el=a.n($r),tl=a(114),al=a.n(tl),nl=a(145),rl=a.n(nl),ll=[{value:mr,text:mr},{value:pr,text:pr},{value:fr,text:fr},{value:gr,text:gr}],ol=[{value:"All Eligible Voters",text:"All Eligible Voters"},{value:"Participants Only",text:"Participants Only"}],il=[{value:!0,text:"True"},{value:!1,text:"False"}],cl="pollJSON.vote.config.allowAbstention",sl="formFields.voteTypeText",ml="formFields.workingOption",ul="formFields.workingHref",dl="formFields.checkedTurnout",pl="formFields.workingMinSupportOption",hl=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(s.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).criteriaStyle=function(e,t){return yt()(e,t)?"":"gray"},a}return Object(u.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){window.scrollTo(0,0)}},{key:"handleOptionKeyPress",value:function(e){console.log("pressed"),console.log(e.target.value),13===e.which&&e.target.value}},{key:"handleKeyPress",value:function(e){"textarea"!==e.target.type&&13===e.which&&e.preventDefault()}},{key:"render",value:function(){var e=this,t=this.props,a=t.pollForm,n=t.updatePoll,l=t.classes;return r.a.createElement(W.e,{initialValues:a,validationSchema:D.object().shape({pollJSON:D.object().shape({proposal:D.object().shape({title:D.string().required("Required")}),vote:D.object().shape({phasesBlockHeights:D.object().shape({})})})}),onSubmit:function(t,a){yt()(t,"pollJSON.proposal.text")?t=el()(t,"pollJSON.proposal.externalRef"):(t=el()(t,"pollJSON.proposal.text"),yt()(t,"pollJSON.proposal").externalRef={href:yt()(t,ul),hash:{value:"",algo:""}}),yt()(t,dl)?(yt()(t,"pollJSON.vote.config").acceptanceCriteria={},yt()(t,"pollJSON.vote.config.acceptanceCriteria").minTurnout={weighted:yt()(t,"formFields.workingWeightMinTurnout"),unweighted:yt()(t,"formFields.workingUnweightMinTurnout")}):t=el()(t,"pollJSON.vote.config.acceptanceCriteria"),yt()(t,"pollJSON.vote.config").winnerCritieria={minSupport:{}},yt()(t,sl)===mr?yt()(t,"pollJSON.vote.config.winnerCriteria").minSupport=Object(L.a)({},yt()(t,pl),{weighted:yt()(t,"formFields.workingWeightMinSupport"),unweighted:yt()(t,"formFields.workingUnweightMinSupport")}):(yt()(t,"pollJSON.vote.config.winnerCriteria").minSupport={"*":{}},yt()(t,"pollJSON.vote.config.winnerCriteria").minSupport["*"]={weighted:yt()(t,"formFields.workingWeightMinSupport"),unweighted:yt()(t,"formFields.workingUnweightMinSupport")}),n(t),e.props.handleNext()},render:function(t){var a=t.errors,n=t.touched,o=t.isSubmitting,i=t.values,c=t.setFieldValue,s=t.handleChange,m=t.handleBlur;return r.a.createElement(W.d,{onKeyPress:e.handleKeyPress},r.a.createElement(Va.a,{container:!0,className:l.pad},r.a.createElement(Va.a,{container:!0,item:!0,xs:12},r.a.createElement(Va.a,{item:!0,xs:12},r.a.createElement(J,{disableGutterBottom:!0,text:"Configure Poll"})),r.a.createElement(Va.a,{container:!0,spacing:8,item:!0,xs:5},r.a.createElement(Va.a,{item:!0,xs:12},r.a.createElement(El,{name:"pollJSON.proposal.title",label:"Title",type:"text",required:!0,fullWidth:!0,maxLength:32,enableSpellCheck:!0,error:yt()(a,"pollJSON.proposal.title")&&yt()(n,"pollJSON.proposal.title"),errorClass:l.errorText})),r.a.createElement(Va.a,{item:!0,xs:12},r.a.createElement(fl,{name:sl,label:"Vote Type",options:ll,width:215,onChange:function(e){s(e);var t=e.target.value;c(pl,""),t===mr?(c("pollJSON.vote.type",ur),c("pollJSON.vote.config.minOptions",dr),c("pollJSON.vote.config.maxOptions",dr)):t===pr?(c("pollJSON.vote.type",hr),c("pollJSON.vote.config.minOptions",Er),c("pollJSON.vote.config.maxOptions",Er)):t===fr?(c("pollJSON.vote.type",br),c("pollJSON.vote.config.minOptions",""),c("pollJSON.vote.config.maxOptions","")):t===gr&&(c("pollJSON.vote.type",vr),c("pollJSON.vote.config.minOptions",""),c("pollJSON.vote.config.maxOptions",""))}})),r.a.createElement(Va.a,{item:!0,xs:12},r.a.createElement(fl,{name:"pollJSON.vote.config.computeResultsAgainst",label:"Compute Results Against",options:ol,width:215,onChange:function(e){s(e),"All Eligible Voters"===e.target.value?c(cl,!1):c(cl,"")}})),r.a.createElement(Va.a,{item:!0,xs:12},r.a.createElement(fl,{name:cl,label:"Allow Abstention",options:il,width:215,onChange:s,disabled:"All Eligible Voters"===yt()(i,"pollJSON.vote.config.computeResultsAgainst")}))),r.a.createElement(Va.a,{item:!0,xs:1}),r.a.createElement(Va.a,{container:!0,item:!0,xs:6},r.a.createElement(Va.a,{item:!0,xs:12},r.a.createElement(El,{name:"pollJSON.vote.phasesBlockHeights.commitStart",required:!0,label:"Commit Start Block",type:"number",error:yt()(a,"pollJSON.vote.phasesBlockHeights.commitStart")&&yt()(n,"pollJSON.vote.phasesBlockHeights.commitStart"),errorClass:l.errorText})),r.a.createElement(Va.a,{item:!0,xs:12},r.a.createElement(El,{name:"pollJSON.vote.phasesBlockHeights.commitEnd",required:!0,label:"Commit End Block",type:"number",error:yt()(a,"pollJSON.vote.phasesBlockHeights.commitEnd")&&yt()(n,"pollJSON.vote.phasesBlockHeights.commitEnd"),errorClass:l.errorText})),r.a.createElement(Va.a,{item:!0,xs:12},r.a.createElement(El,{name:"pollJSON.vote.phasesBlockHeights.revealStart",required:!0,label:"Reveal Start Block",type:"number",error:yt()(a,"pollJSON.vote.phasesBlockHeights.revealStart")&&yt()(n,"pollJSON.vote.phasesBlockHeights.revealStart"),errorClass:l.errorText})),r.a.createElement(Va.a,{item:!0,xs:12},r.a.createElement(El,{name:"pollJSON.vote.phasesBlockHeights.revealEnd",required:!0,label:"Reveal End Block",type:"number",error:yt()(a,"pollJSON.vote.phasesBlockHeights.revealEnd")&&yt()(n,"pollJSON.vote.phasesBlockHeights.revealEnd"),errorClass:l.errorText})))),r.a.createElement(Va.a,{container:!0,item:!0,xs:12},r.a.createElement(Va.a,{item:!0,xs:12},r.a.createElement("br",null),r.a.createElement(J,{disableGutterBottom:!0,text:"Question"})),r.a.createElement(Va.a,{item:!0,xs:3},r.a.createElement(jt.a,{component:"fieldset"},r.a.createElement(kt.a,{name:"formFields.questionSource",value:yt()(i,"formFields.questionSource"),onChange:function(e){s(e),"text"===e.target.value?c(ul,""):c("pollJSON.proposal.text","")},onBlur:m},r.a.createElement(St.a,{value:"text",control:r.a.createElement(Ct.a,null),label:"Plain Text"}),r.a.createElement(St.a,{className:l.raiseRadio,value:"href",control:r.a.createElement(Ct.a,null),label:"External Proposal"})))),"text"===yt()(i,"formFields.questionSource")&&r.a.createElement(Va.a,{item:!0,container:!0,xs:9},r.a.createElement(El,{name:"pollJSON.proposal.text",required:!0,fullWidth:!0,label:"Question",type:"text",multiline:!0,enableSpellCheck:!0,error:yt()(a,"pollJSON.proposal.text")&&yt()(n,"pollJSON.proposal.text"),errorClass:l.errorText})),"href"===yt()(i,"formFields.questionSource")&&r.a.createElement(Va.a,{item:!0,xs:9},r.a.createElement(El,{name:ul,required:!0,fullWidth:!0,label:"URL Link",type:"text",enableSpellCheck:!0,error:yt()(a,ul)&&yt()(n,ul),errorClass:l.errorText}))),r.a.createElement(Va.a,{container:!0,spacing:8,item:!0,xs:12},r.a.createElement(Va.a,{item:!0,xs:12},r.a.createElement(J,{disableGutterBottom:!0,text:"Answers"})),r.a.createElement(Va.a,{item:!0,xs:12},r.a.createElement(Q.a,{elevation:2,className:l.pad},r.a.createElement(Va.a,{container:!0,spacing:24},r.a.createElement(Va.a,{item:!0,xs:6},r.a.createElement(mt.a,{className:l.optionList,dense:!0},r.a.createElement(W.c,{name:"pollJSON.vote.config.options",render:function(e){return r.a.createElement("div",null,r.a.createElement(y.a,{variant:"subtitle1"},"Options *\xa0\xa0",r.a.createElement(W.b,{name:ml,type:"text",onKeyPress:function(t){13===t.which&&t.target.value.trim()&&(e.push(yt()(i,ml)),c(ml,""))}}),r.a.createElement("input",{type:"button",onClick:function(){e.push(yt()(i,ml)),c(ml,"")},value:"Add",disabled:!yt()(i,ml)})),yt()(i,"pollJSON.vote.config.options").length>0?yt()(i,"pollJSON.vote.config.options").map(function(t,a){return r.a.createElement(dt.a,{key:a,disableGutters:!0,divider:!0,className:l.optionListItem},r.a.createElement(sr.a,{style:{fontSize:15}}),r.a.createElement(lr.a,{primary:t}),r.a.createElement(k.a,{onClick:function(){e.remove(a),yt()(i,pl)===t&&c(pl,"")},"aria-label":"Clear"},r.a.createElement(Kr.a,null)))}):r.a.createElement(dt.a,{divider:!0},r.a.createElement(lr.a,{primary:"No Options have been added"})))}}))),r.a.createElement(Va.a,{item:!0,xs:6},(yt()(i,sl)===fr||yt()(i,sl)===gr)&&r.a.createElement(Va.a,{container:!0,spacing:8,item:!0,xs:12},r.a.createElement(Va.a,{item:!0,xs:12},r.a.createElement(El,{name:"pollJSON.vote.config.minOptions",required:!0,label:"Minimum Options Allowed",type:"number",width:215,error:yt()(a,"pollJSON.vote.config.minOptions")&&yt()(n,"pollJSON.vote.config.minOptions"),errorClass:l.errorText})),r.a.createElement(Va.a,{item:!0,xs:12},r.a.createElement(El,{name:"pollJSON.vote.config.maxOptions",required:!0,label:"Maximum Options Allowed",type:"number",width:215,error:yt()(a,"pollJSON.vote.config.maxOptions")&&yt()(n,"pollJSON.vote.config.maxOptions"),errorClass:l.errorText})))))))),r.a.createElement(Va.a,{item:!0,container:!0,xs:12},r.a.createElement(Va.a,{item:!0,xs:12},r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement(J,{text:"Winner Criteria"})),r.a.createElement(Va.a,{item:!0,xs:12},r.a.createElement(Va.a,{container:!0},r.a.createElement(Va.a,{item:!0,xs:4},r.a.createElement("br",null),r.a.createElement(y.a,null,"Minimum Support *")),r.a.createElement(Va.a,{item:!0,xs:4},r.a.createElement(El,{name:"formFields.workingWeightMinSupport",required:!0,width:138,label:"Weighted Ratio",type:"number",error:yt()(a,"formFields.workingWeightMinSupport")&&yt()(n,"formFields.workingWeightMinSupport"),errorClass:l.errorText}),r.a.createElement("br",null),r.a.createElement(El,{name:"formFields.workingUnweightMinSupport",required:!0,width:138,label:"Unweighted Ratio",type:"number",error:yt()(a,"formFields.workingUnweightMinSupport")&&yt()(n,"formFields.workingUnweightMinSupport"),errorClass:l.errorText})),r.a.createElement(Va.a,{item:!0,xs:4},""!==yt()(i,"pollJSON.vote.type")?yt()(i,sl)===mr?Ee()(yt()(i,"pollJSON.vote.config.options"))?r.a.createElement(r.a.Fragment,null,r.a.createElement("br",null),"No Options Found"):r.a.createElement(fl,{name:pl,label:"Applies to option",options:yt()(i,"pollJSON.vote.config.options").map(function(e){return{value:e,text:e}}),width:215,onChange:s}):r.a.createElement(r.a.Fragment,null,r.a.createElement("br",null),"Applies to all options"):r.a.createElement(r.a.Fragment,null,r.a.createElement("br",null),"Select a Vote Type"))))),r.a.createElement(Va.a,{container:!0,item:!0,xs:12},r.a.createElement(Va.a,{item:!0,xs:12},r.a.createElement("br",null),r.a.createElement(J,{disableGutterBottom:!0,text:"Acceptance Criteria"})),r.a.createElement(Va.a,{container:!0,item:!0,xs:12},r.a.createElement(Va.a,{item:!0,xs:4},r.a.createElement("br",null),r.a.createElement(W.b,{name:dl,render:function(e){var t=e.field,a=e.form;return r.a.createElement(St.a,{control:r.a.createElement(ma.a,{name:dl,checked:t.value,onChange:function(e){s(e),t.value&&(a.setFieldValue("formFields.workingWeightMinTurnout",""),a.setFieldValue("formFields.workingUnweightMinTurnout",""))},color:"default"}),label:"Minimum Turnout"})}})),r.a.createElement(Va.a,{item:!0,xs:4},r.a.createElement(El,{name:"formFields.workingWeightMinTurnout",required:yt()(i,dl),disabled:!yt()(i,dl),width:138,label:"Weighted Ratio",type:"number",error:yt()(a,"formFields.workingWeightMinTurnout")&&yt()(n,"formFields.workingWeightMinTurnout"),errorClass:l.errorText}),r.a.createElement("br",null),r.a.createElement(El,{name:"formFields.workingUnweightMinTurnout",required:yt()(i,dl),disabled:!yt()(i,dl),width:138,label:"Unweighted Ratio",type:"number",error:yt()(a,"formFields.workingUnweightMinTurnout")&&yt()(n,"formFields.workingUnweightMinTurnout"),errorClass:l.errorText})),r.a.createElement(Va.a,{style:{color:e.criteriaStyle(i,dl)},item:!0,xs:4},r.a.createElement("br",null),"Applies to all eligible voters."))),r.a.createElement(Va.a,{item:!0,xs:12,className:l.stepperButtons},r.a.createElement("br",null),r.a.createElement(C.a,{onClick:e.props.handleBack},"Back"),r.a.createElement(C.a,{variant:"contained",color:"primary",type:"submit",disabled:o},"Next"),o&&a&&window.scrollTo(0,0))))}})}}]),t}(r.a.Component),El=function(e){return r.a.createElement(r.a.Fragment,null,r.a.createElement(W.b,{name:e.name},function(t){var a=t.field;return r.a.createElement(V.a,Object.assign({style:{width:e.width},required:e.required,disabled:e.disabled},a,{type:e.type,inputProps:Object(L.a)({spellCheck:e.enableSpellCheck,maxLength:e.maxLength,autoComplete:"nope"},"autoComplete","off"),error:e.error,label:e.label,fullWidth:e.fullWidth,multiline:e.multiline}))}),r.a.createElement(W.a,{name:e.name,render:function(t){return r.a.createElement("span",{className:e.errorClass},t)}}))},fl=function(e){return r.a.createElement(r.a.Fragment,null,r.a.createElement(W.b,{name:e.name},function(t){var a=t.field;return r.a.createElement(jt.a,{required:!0,disabled:e.disabled},r.a.createElement(rl.a,{htmlFor:e.name},e.label),r.a.createElement(al.a,Object.assign({style:{minWidth:e.width}},a,{onChange:e.onChange,name:e.name,inputProps:{id:e.name}}),e.options.map(function(e,t){return r.a.createElement(T.a,{key:t,value:e.value},e.text)})))}),r.a.createElement(W.a,{name:e.name,render:function(t){return r.a.createElement("span",{className:e.errorClass},t)}}))},bl=Object(h.withStyles)(function(e){return{pad:{padding:15},raiseRadio:{position:"relative",top:"-16px"},optionList:{overflow:"auto"},optionListItem:{padding:"0px"},errorText:{color:"red",fontSize:"13px"},stepperButtons:{marginLeft:"-15px"}}})(hl),gl=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(s.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).state={activeStep:0},a.handleNext=function(){var e=a.state.activeStep;a.setState({activeStep:e+1})},a.handleBack=function(){var e=a.state.activeStep;a.setState({activeStep:e-1})},a}return Object(u.a)(t,e),Object(c.a)(t,[{key:"getStepContent",value:function(e,t){switch(e){case 0:return r.a.createElement(Yr,{handleNext:this.handleNext,handleBack:this.handleBack,eligibleVotersForm:t.eligibleVotersForm,updateParticipants:t.updateParticipants});case 1:return r.a.createElement(bl,{handleNext:this.handleNext,handleBack:this.handleBack,updatePoll:t.updatePoll,pollForm:t.pollForm});case 2:return r.a.createElement(Qr,{handleNext:this.handleNext,handleBack:this.handleBack,poll:t.pollForm});default:return"Content D"}}},{key:"getSteps",value:function(){return["Select Voters","Configure Poll","Preview & Sign"]}},{key:"render",value:function(){var e=this,t=this.props.classes,a=this.getSteps(),n=this.state.activeStep;return r.a.createElement(Zr,null,function(l){return r.a.createElement(Va.a,{container:!0},r.a.createElement(Va.a,{item:!0,xs:2}),r.a.createElement(Va.a,{item:!0,xs:8},r.a.createElement(Q.a,{className:t.pad},r.a.createElement(y.a,{variant:"h4",style:{opacity:".6"},align:"center"},"Create Poll"),r.a.createElement(ht.a,{activeStep:n},a.map(function(e){return r.a.createElement(ft.a,{key:e},r.a.createElement(gt.a,null,e))})),e.state.activeStep===a.length?r.a.createElement(Xr,null):r.a.createElement("div",null,r.a.createElement("div",null,e.getStepContent(n,l))))),r.a.createElement(Va.a,{item:!0,xs:2}))})}}]),t}(r.a.Component),vl=(Object(h.withStyles)(function(e){return{pad:{padding:"15px"}}})(gl),function(e){function t(){return Object(i.a)(this,t),Object(s.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this.props.walletController,t=e.readyToManageWallet,a=e.isWalletEmpty,n=e.setReadyToManageWallet;return r.a.createElement(te.a,null,r.a.createElement(r.a.Fragment,null,r.a.createElement(ct.a,{exact:!0,path:"/",render:function(){return t&&!a()?r.a.createElement(Nn,null):r.a.createElement(Pn,{setReadyToManageWallet:n})}})))}}]),t}(n.Component)),yl=p()(U.b)(vl),xl=function(e){function t(){return Object(i.a)(this,t),Object(s.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this.props.classes;return r.a.createElement(te.a,null,r.a.createElement(r.a.Fragment,null,r.a.createElement(at,null,r.a.createElement(Je,null,r.a.createElement(r.a.Fragment,null,r.a.createElement(ot,null),r.a.createElement(Ne,null,r.a.createElement(ee,null),r.a.createElement(We,null,r.a.createElement(nt.a,null,r.a.createElement("div",{className:e.body},r.a.createElement(yl,null),r.a.createElement(it,null))))))))))}}]),t}(n.Component),Cl=p()(le,Object(h.withStyles)(function(e){return{body:{width:"1200px",margin:"0 auto"}}}))(xl);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(r.a.createElement(Cl,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[445,2,1]]]);
//# sourceMappingURL=main.61bf8299.chunk.js.map